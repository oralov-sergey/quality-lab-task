<html lang="en" class="wf-poppins-n3-active wf-poppins-n4-active wf-poppins-n5-active wf-poppins-n6-active wf-poppins-n7-active wf-roboto-n3-active wf-roboto-n4-active wf-roboto-n5-active wf-roboto-n6-active wf-roboto-n7-active wf-active"><!-- begin::Head --><head>
    <meta charset="utf-8">
    <title>
        Лаборатория Качества : Тайм Трекер    </title>
    <meta name="description" content="Latest updates and statistic charts">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1">

    <!--begin::Web font -->
<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700%7CRoboto:300,400,500,600,700" media="all"><script>
    WebFont.load({
        google: {"families": ["Poppins:300,400,500,600,700", "Roboto:300,400,500,600,700"]},
        active: function () {
            sessionStorage.fonts = true;
        }
    });
</script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<!--end::Web font -->

<!--begin::Base Scripts -->
<script src="/assets/vendors/base/vendors.bundle.js?211005_1425_26" type="text/javascript"></script><style type="text/css">.im-caret {
	-webkit-animation: 1s blink step-end infinite;
	animation: 1s blink step-end infinite;
}

@keyframes blink {
	from, to {
		border-right-color: black;
	}
	50% {
		border-right-color: transparent;
	}
}

@-webkit-keyframes blink {
	from, to {
		border-right-color: black;
	}
	50% {
		border-right-color: transparent;
	}
}

.im-static {
	color: grey;
}
</style>
<!--end::Base Scripts -->

        <link href="/css/735fd63_select2_1.css?211005_1425_26" rel="stylesheet">
    
            <link href="/css/0d70875_slick_1.css?211005_1425_26" rel="stylesheet">
    
            <link href="/css/20b0854_slick-theme_1.css?211005_1425_26" rel="stylesheet">
    
            <script src="/js/27fbea4_jquery.cookie_1.js?211005_1425_26"></script>
    
            <script src="/js/db3e11c_sideMenuEvents_1.js?211005_1425_26"></script>
    
        <script src="/js/f93eff7_select2.full_1.js?211005_1425_26"></script>
    
            <script src="/js/ad46852_TableSortPlus_1.js?211005_1425_26"></script>
    
            <script src="/js/371a1b2_slick_1.js?211005_1425_26"></script>
    
<script>
    ;(function($){
        $.fn.datepicker.dates['ru'] = {
            days: ["Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота"],
            daysShort: ["Вск", "Пнд", "Втр", "Срд", "Чтв", "Птн", "Суб"],
            daysMin: ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
            months: ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"],
            monthsShort: ["Янв", "Фев", "Мар", "Апр", "Май", "Июн", "Июл", "Авг", "Сен", "Окт", "Ноя", "Дек"],
            today: "Сегодня",
            clear: "Очистить",
            format: "dd.mm.yyyy",
            weekStart: 1,
            monthsTitle: 'Месяцы'
        };
    }(jQuery));
</script>
    
<!--begin::Base Styles -->
<link href="/assets/vendors/base/vendors.bundle.css?211005_1425_26" rel="stylesheet" type="text/css">
<link href="/assets/demo/default/base/style.bundle.css?211005_1425_26" rel="stylesheet" type="text/css">
<!--end::Base Styles -->
<link rel="shortcut icon" href="/assets/demo/default/media/img/logo/favicon.ico?211005_1425_26">

<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<style>
    html, body, *{
        font-family: 'Roboto', sans-serif;
    }
    .select2-container{
        display: block;
    }
    .m-card-user .m-card-user__pic img{
        background-color: #f4f5f8;
    }
</style>
        
        
</head>
<!-- end::Head -->
<!-- end::Body -->
<body class="m-page--fluid m--skin- m-content--skin-light2 m-header--fixed m-header--fixed-mobile m-aside-left--enabled m-aside-left--skin-dark m-aside-left--fixed m-aside-left--offcanvas m-footer--push m-aside--offcanvas-default  m-brand--minimize m-aside-left--minimize ">
    <!-- begin:: Page -->
    <div class="m-grid m-grid--hor m-grid--root m-page">

        <!-- BEGIN: Header -->
<header class="m-grid__item    m-header " data-minimize-offset="200" data-minimize-mobile-offset="200">
    <div class="m-container m-container--fluid m-container--full-height">
        <div class="m-stack m-stack--ver m-stack--desktop">
            <!-- BEGIN: Brand -->
            <div class="m-stack__item m-brand  m-brand--skin-dark ">
                <div class="m-stack m-stack--ver m-stack--general">
                    <div class="m-stack__item m-stack__item--middle m-brand__logo">
                        <a href="/" class="m-brand__logo-wrapper">
                            <img alt="" src="/assets/demo/default/media/img/logo/logo_default_dark.png?211005_1425_26">
                        </a>
                    </div>
                    <div class="m-stack__item m-stack__item--middle m-brand__tools">
                        <!-- BEGIN: Left Aside Minimize Toggle -->
                        <a href="javascript:;" id="m_aside_left_minimize_toggle" class="m-brand__icon m-brand__toggler m-brand__toggler--left m--visible-desktop-inline-block
					 ">
                            <span></span>
                        </a>
                        <!-- END -->
                        <!-- BEGIN: Responsive Aside Left Menu Toggler -->
                        <a href="javascript:;" id="m_aside_left_offcanvas_toggle" class="m-brand__icon m-brand__toggler m-brand__toggler--left m--visible-tablet-and-mobile-inline-block">
                            <span></span>
                        </a>
                        <!-- END -->
                    </div>
                </div>
            </div>
            <!-- END: Brand -->
            <div class="m-stack__item m-stack__item--fluid m-header-head" id="m_header_nav">

                <!-- BEGIN: Topbar -->
                <div id="m_header_topbar" class="m-topbar  m-stack m-stack--ver m-stack--general">
                    <div class="m-stack__item m-topbar__nav-wrapper">
                        <ul class="m-topbar__nav m-nav m-nav--inline">
                                                        <li class="m-nav__item m-topbar__user-profile m-topbar__user-profile--img m-dropdown m-dropdown--medium m-dropdown--arrow m-dropdown--header-bg-fill m-dropdown--align-right m-dropdown--mobile-full-width m-dropdown--skin-light m-dropdown--open" data-dropdown-toggle="click" aria-expanded="true">
                                <a href="#" class="m-nav__link m-dropdown__toggle">
                                    <span class="m-topbar__userpic">
                                        <div class="" style="width: 32px; height: 32px; border-radius: 50%; overflow: hidden;">
                                            <div class="avatarCover" style="
                                                width: 32px;
                                                height: 32px;
                                                background-image: url('/upload/user-avatar/08179a45500b71525573d797dc0a7088.jpg' );
                                                background-repeat: no-repeat;
                                                background-position-x: center;
                                                background-size: cover;
                                                ">

                                            </div>
                                        </div>
                                    </span>
                                    <span class="m-topbar__username m--hide">
													Nick
												</span>
                                </a>
                                <div class="m-dropdown__wrapper">
                                    <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust" style="left: auto; right: 8px;"></span>
                                    <div class="m-dropdown__inner">
                                        <div class="m-dropdown__header m--align-center" style="background: url(/assets/app/media/img/misc/user_profile_bg.jpg?211005_1425_26); background-size: cover;">
                                            <div class="m-card-user m-card-user--skin-dark">
                                                <div class="m-card-user__pic">
                                                    <div class="" style="width: 70px; height: 70px; border-radius: 50%; overflow: hidden;">
                                                        <div class="avatarCover" style="
                                                                width: 70px;
                                                                height: 70px;
                                                                background-image: url('/upload/user-avatar/08179a45500b71525573d797dc0a7088.jpg' );
                                                                background-repeat: no-repeat;
                                                                background-position-x: center;
                                                                background-size: cover;
                                                                ">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="m-card-user__details">
																<span class="m-card-user__name m--font-weight-500" style="cursor: default;">
																	Оралов Сергей Николаевич
																</span>
                                                    <span class="m-card-user__email m--font-weight-300 m-link" style="cursor: default;">
                                                        fake+518@quality-lab.ru
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="m-dropdown__body">
                                            <div class="m-dropdown__content">
                                                <ul class="m-nav m-nav--skin-light">
                                                    <li class="m-nav__item">
                                                        <a href="/user/518/show/profile" class="m-nav__link">
                                                            <i class="m-nav__link-icon flaticon-profile"></i>
                                                            <span class="m-nav__link-title">
                                                                <span class="m-nav__link-wrap">
                                                                    <span class="m-nav__link-text">Мой профиль</span>
                                                                </span>
                                                            </span>
                                                        </a>
                                                    </li>
                                                    <li class="m-nav__separator m-nav__separator--fit"></li>
                                                    <li class="m-nav__item">
                                                        <a href="/report/group/edit" class="m-nav__link" style="width: inherit; padding: 2px 0px;">
                                                            <i class="m-nav__link-icon flaticon-clock-1" style="line-height: 36px;"></i>
                                                            <span class="m-nav__link-title">
                                                                <span class="m-nav__link-wrap">
                                                                    <span class="m-nav__link-text">Заполнить отчет за сегодня</span>
                                                                </span>
                                                            </span>
                                                        </a>
                                                    </li>
                                                                                                        <li class="m-nav__item">
                                                        <a href="/calendar/?form_init=popup-add-vacation" class="m-nav__link" style="width: inherit; padding: 2px 0px;">
                                                            <i class="m-nav__link-icon flaticon-calendar-1" style="line-height: 36px;"></i>
                                                            <span class="m-nav__link-title">
                                                                <span class="m-nav__link-wrap">
                                                                    <span class="m-nav__link-text">Оформить отпуск</span>
                                                                </span>
                                                            </span>
                                                        </a>
                                                    </li>
                                                    <li class="m-nav__item">
                                                        <a href="/calendar/?form_init=popup-add-official-hospital" class="m-nav__link" style="width: inherit; padding: 2px 0px;">
                                                            <i class="m-nav__link-icon flaticon-calendar-1" style="line-height: 36px;"></i>
                                                            <span class="m-nav__link-title">
                                                                <span class="m-nav__link-wrap">
                                                                    <span class="m-nav__link-text">Оформить больничный (официальный)</span>
                                                                </span>
                                                            </span>
                                                        </a>
                                                    </li>
                                                    <li class="m-nav__item">
                                                        <a href="/calendar/?form_init=popup-add-unofficial-hospital" class="m-nav__link" style="width: inherit; padding: 2px 0px;">
                                                            <i class="m-nav__link-icon flaticon-calendar-1" style="line-height: 36px;"></i>
                                                            <span class="m-nav__link-title">
                                                                <span class="m-nav__link-wrap">
                                                                    <span class="m-nav__link-text">Оформить больничный (без справки)</span>
                                                                </span>
                                                            </span>
                                                        </a>
                                                    </li>
                                                                                                        <li class="m-nav__separator m-nav__separator--fit">
                                                    </li>
                                                    <li class="m-nav__item">
                                                        <a href="/logout" class="btn m-btn--pill    btn-secondary m-btn m-btn--custom m-btn--label-brand m-btn--bolder">
                                                            Выйти
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- END: Topbar -->
            </div>
        </div>
    </div>
</header>
<!-- END: Header -->


















        <!-- begin: Notification Carousel -->
        <style>
    /*#region Notification Carousel */
    #NotificationCarousel .m-content {
        padding: 0 !important;
    }

    #NotificationCarousel .slick-dots li button:before {
        font-size: 12px;
    }

    @media screen and (max-width: 560px) {
        .notification-slick-prev, .notification-slick-next {
            display: none;
        }
    }

    .notification-container-theme, .notification-container-title, .notification-container-count {
        display: table-cell;
        vertical-align: middle;
        height: 40px;
    }

    .notification-container-theme span {
        display: block;
        cursor: pointer;
        height: 32px;
        width: 32px;
        margin-right: 10px;
        border-radius: 99px;
        float: left;
        transition: all .15s ease-in-out
    }

    .notification-theme-toggle-container, .notification-debug-toggle-container {
        display: table-cell;
        height: 40px;
        vertical-align: middle;
        padding-right: 1rem;
    }

    .notification-theme-toggle-container i, .notification-debug-toggle-container i {
        font-size:  1.75rem;
        color: #8f8f8f;
        cursor: pointer;
        transition: all .15s ease-in-out
    }

    .notification-theme-toggle-container i:hover {
        color: #686868;
    }
    /*#endregion */

    /*#region Notification Box */
    #NotificationContainer.notification-box-slide {
        overflow: hidden;
    }

    #NotificationContainer.box-icon-top .notification-box__icon-area {
        -ms-flex-item-align: start !important;
        align-self: flex-start !important;
    }

    #NotificationContainer.box-icon-middle .notification-box__icon-area {
        -ms-flex-item-align: center !important;
        align-self: center !important;
    }

    #NotificationContainer.box-icon-bottom .notification-box__icon-area {
        -ms-flex-item-align: end !important;
        align-self: flex-end !important;
    }

    #NotificationContainer.box-content-top .notification-box__content-area {
        -ms-flex-item-align: start !important;
        align-self: flex-start !important;
    }

    #NotificationContainer.box-content-middle .notification-box__content-area {
        -ms-flex-item-align: center !important;
        align-self: center !important;
    }

    #NotificationContainer.box-content-bottom .notification-box__content-area {
        -ms-flex-item-align: end !important;
        align-self: flex-end !important;
    }

    #NotificationContainer.box-button-top .notification-box__button-area {
        -ms-flex-item-align: start !important;
        align-self: flex-start !important;
    }

    #NotificationContainer.box-button-middle .notification-box__button-area {
        -ms-flex-item-align: center !important;
        align-self: center !important;
    }

    #NotificationContainer.box-button-bottom .notification-box__button-area {
        -ms-flex-item-align: end !important;
        align-self: flex-end !important;
    }

    #NotificationContainer.box-button-primary-first .notification-box__button-area  > .notification-box__btn--secondary {
        -ms-flex-order: 1 !important;
        order: 1 !important;
    }

    #NotificationContainer.box-button-secondary-first .notification-box__button-area  > .notification-box__btn--primary {
        -ms-flex-order: 1 !important;
        order: 1 !important;
    }

    #NotificationContainer.box-button-expand-fill .notification-box__button-area > .notification-box__btn:not(:first-child)
    {
        margin-top: auto !important;
    }

    #NotificationContainer.box-button-expand-group.box-button-secondary-first .notification-box__button-area > :nth-child(1 of .notification-box__btn--primary) {
        margin-top: auto !important;
    }

    #NotificationContainer.box-button-expand-group.box-button-primary-first .notification-box__button-area  > :nth-child(1 of .notification-box__btn--secondary) {
        margin-top: auto !important;
    }


    .notification-box {
        display: -ms-flexbox !important;
        display: flex !important;
        border-radius: 4px;
        background-color: #5867dd;
        color: #fff;
    }

    @media screen and (max-width: 1365px) {
        .notification-box {
            -ms-flex-direction: column !important;
            flex-direction: column;
        }

        /*.notification-box__icon-area {*/
        /*    display: none;*/
        /*}*/

        #NotificationContainer.box-icon-bottom .notification-box__icon-area {
            -ms-flex-item-align: unset !important;
            align-self: unset !important;
        }

        #NotificationContainer.box-content-top .notification-box__content-area {
            -ms-flex-item-align: unset !important;
            align-self: unset !important;
        }

        #NotificationContainer.box-content-middle .notification-box__content-area {
            -ms-flex-item-align: unset !important;
            align-self: unset !important;
        }
    }

    .notification-box__icon-area {
        padding: .85rem 1.5rem;
    }

    .notification-box__icon-area i {
        font-size: 3rem;
    }

    .notification-box__icon-area.notification-box__icon-area--top {
        -ms-flex-item-align: start;
        align-self: flex-start;
    }

    .notification-box__icon-area.notification-box__icon-area--middle {
        -ms-flex-item-align: center !important;
        align-self: center !important;
    }

    .notification-box__icon-area.notification-box__icon-area--bottom {
        -ms-flex-item-align: end !important;
        align-self: flex-end !important;
    }

    .notification-box__content-area {
        -ms-flex-positive: 1 !important;
        flex-grow: 1 !important;
        padding: .85rem 1.5rem;
    }

    .notification-box__casual-header {
        position: relative;
        margin-bottom: 0.65rem;
    }

    .notification-box__casual-header:before {
        position: absolute;
        content: "";
        width: 100%;
        height: 1px;
        background-color: #fff;
        top: 50%;
        left: 0;
    }

    .notification-box__casual-header span {
        position: relative;
        background-color: #5867dd;
        margin-left: 2.5rem;
        padding: 0 1rem;
    }

    .notification-box__button-area {
        display: -ms-flexbox !important;
        display: flex !important;
        -ms-flex-direction: column !important;
        flex-direction: column !important;
        padding: .85rem 1.5rem;
    }

    .notification-box__button-area.notification-box__button-area--top
    {
        -ms-flex-item-align: start !important;
        align-self: flex-start !important;
    }

    .notification-box__button-area.notification-box__button-area--middle
    {
        -ms-flex-item-align: center !important;
        align-self: center !important;
    }

    .notification-box__button-area.notification-box__button-area--bottom
    {
        -ms-flex-item-align: end !important;
        align-self: flex-end !important;
    }

    .notification-box__button-area .notification-box__btn
    {
        margin: 0.5rem 0;
    }

    .notification-box__button-area.notification-box__button-area--order-primary-first  > .notification-box__btn--secondary {
        -ms-flex-order: 1;
        order: 1;
    }

    .notification-box__button-area.notification-box__box-area--order-secondary-first  > .notification-box__btn--primary {
        -ms-flex-order: 1;
        order: 1;
    }

    .notification-box__button-area.notification-box__button-area--expand-fill > .notification-box__btn:not(:first-child)
    {
        margin-top: auto !important;
    }

    /* Css hack for level 4 nth first child of unique class */
    .notification-box__button-area.notification-box__button-area--order-secondary-first.notification-box__button-area--expand-group > :nth-child(1 of .notification-box__btn--primary) {
        margin-top: auto !important;
    }

    .notification-box__button-area.notification-box__button-area--order-primary-first.notification-box__button-area--expand-group  > :nth-child(1 of .notification-box__btn--secondary) {
        margin-top: auto !important;
    }

    .notification-box__btn {
        font-family: 'Roboto', sans-serif;
        cursor: pointer;
        display: inline-block;
        font-weight: 400;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        user-select: none;
        border: 1px solid transparent;
        padding: .65rem 1.25rem;
        font-size: 1rem;
        line-height: 1.25;
        border-radius: .25rem;
        transition: all .15s ease-in-out;
    }

    a.notification-box__btn { text-decoration: none; }

    .notification-box__btn.notification-box__btn--primary {
        background-color: #fff;
        color: #5867dd;
        border-color: #fff;
    }

    .notification-box__btn.notification-box__btn--primary:hover {
        background-color: #ececec ;
        color: #4959da;
    }

    .notification-box__btn.notification-box__btn--secondary {
        background-color: transparent;
        color: #fff;
        border-color: #fff ;
    }

    .notification-box__btn.notification-box__btn--secondary:hover {
        background-color: #4959da;
    }
    /*#endregion */

    /*#region Pink Theme */
    /*
        Default Pink: #f66e84;
        Dark Pink: #fd1361;
    */

    span[data-action="theme-selector"][data-color="pink"],
    #NotificationContainer[data-notification-color="pink"] .notification-box,
    #NotificationContainer[data-notification-color="pink"] .notification-box .notification-box__casual-header span,
    #NotificationContainer[data-notification-color="pink"] td
    {
        background-color: #f66e84 !important;
    }

    #NotificationContainer[data-notification-color="pink"] .notification-box,
    #NotificationContainer[data-notification-color="pink"] a
    {
        color: #fff;
    }

    span[data-action="theme-selector"][data-color="pink"]:hover,
    #NotificationContainer[data-notification-color="pink"] .notification-box .notification-box__btn--secondary:hover
    {
        background-color: #fd1361 !important;
    }

    #NotificationContainer[data-notification-color="pink"] .notification-box .notification-box__btn--primary {
        color: #f66e84 !important;
    }
    /*#endregion */

    /*#region Purple Theme */
    /*
        Default Purple: #5867dd;
        Dark Purple: #4959da;
    */
    span[data-action="theme-selector"][data-color="purple"],
    #NotificationContainer[data-notification-color="purple"] .notification-box,
    #NotificationContainer[data-notification-color="purple"] .notification-box .notification-box__casual-header span,
    #NotificationContainer[data-notification-color="purple"] td
    {
        background-color: #5867dd !important;
    }

    #NotificationContainer[data-notification-color="purple"] .notification-box,
    #NotificationContainer[data-notification-color="purple"] a
    {
        color: #fff;
    }

    span[data-action="theme-selector"][data-color="purple"]:hover,
    #NotificationContainer[data-notification-color="purple"] .notification-box .notification-box__btn--secondary:hover
    {
        background-color: #4959da !important;
    }

    #NotificationContainer[data-notification-color="purple"] .notification-box .notification-box__btn--primary {
        color: #5867dd !important;
    }
    /*#endregion */

    /*#region Blue Theme */
    /*
        Default Blue: #292a3c;
        Dark Blue: #0d0d13;
    */
    span[data-action="theme-selector"][data-color="blue"],
    #NotificationContainer[data-notification-color="blue"] .notification-box,
    #NotificationContainer[data-notification-color="blue"] .notification-box .notification-box__casual-header span,
    #NotificationContainer[data-notification-color="blue"] td
    {
        background-color: #292a3c !important;
    }

    #NotificationContainer[data-notification-color="blue"] .notification-box,
    #NotificationContainer[data-notification-color="blue"] a
    {
        color: #fff;
    }

    span[data-action="theme-selector"][data-color="blue"]:hover,
    #NotificationContainer[data-notification-color="blue"] .notification-box .notification-box__btn--secondary:hover
    {
        background-color: #0d0d13 !important;
    }

    #NotificationContainer[data-notification-color="blue"] .notification-box .notification-box__btn--primary {
        color: #292a3c !important;
    }
    /*#endregion */
</style>

<div id="NotificationContainer" class="m-grid__item m-grid m-grid--desktop m-body box-icon-middle box-content-middle box-button-middle" data-notification-color="purple" style="">
    <div class="m-content pb-0">
        <div class="m-portlet m-portlet--mobile mb-0">
            <div class="m-portlet__head">
                <div class="m-portlet__head-caption">
                    <div class="m-portlet__head-title">
                        <h3 class="m-portlet__head-text">
                            <span class="notification-theme-toggle-container mr-3">
                                <i class="la la-cog notification-theme-toggle"></i>
                            </span>
                            <span class="notification-container-theme" style="display: none;">
                                        <span data-action="theme-selector" data-color="purple"></span>
                                        <span data-action="theme-selector" data-color="blue"></span>
                                        <span data-action="theme-selector" data-color="pink"></span>
                                    </span>
                            <span class="notification-container-title">Важные уведомления:</span><span class="notification-container-count pl-2">2</span>
                        </h3>
                    </div>
                </div>
                <div class="m-portlet__head-tools">
                    <button type="button" class="btn btn-brand m-btn m-btn--icon notification-slick-prev">
                        <i class="la la-angle-left"></i>
                    </button>
                    <button type="button" class="btn btn-brand m-btn m-btn--icon notification-slick-next">
                        <i class="la la-angle-right"></i>
                    </button>
                </div>
            </div>
            <div class="m-portlet__body">

                <div id="NotificationCarousel" class="slick-initialized slick-slider"><div class="slick-list draggable" style="height: 399.062px;"><div class="slick-track" style="opacity: 1; width: 3424px;"><div class="notification-box-slide--active slick-slide slick-current slick-active" data-slick-index="1" aria-hidden="false" tabindex="-1" style="position: relative; left: 0px; top: 0px; z-index: 999; opacity: 1; width: 1712px;"><div><div id="NeedConfirmUserInfo" class="notification-box-slide notification-box-slide--active" style="width: 100%; display: inline-block;">
    <div class="notification-box">
        <div class="notification-box__icon-area notification-box__icon-area--middle">
            <i class="la la-exclamation-circle"></i>
        </div>
        <div class="notification-box__content-area">
            <p>Пожалуйста, проверьте информацию вашего профиля и, при необходимости, актуализируйте её:</p>
            <ul class="m-nav">
                <li class="m-nav__item">
                    <div class="notification-box__casual-header">
                        <span>Контакты</span>
                    </div>
                    <div>
                        <span class="m-list-search__result-item-icon" data-toggle="m-tooltip" data-original-title="Телефон (основной)">
                            <i class="la la-phone"></i>
                        </span>
                        <span class="m-list-search__result-item-text phone">
                                                            +7(981)740-33-37
                                                    </span>
                    </div>
                    <div>
                        <span class="m-list-search__result-item-icon" data-toggle="m-tooltip" data-original-title="Адрес">
                            <i class="la la-map-marker"></i>
                        </span>
                        <span class="m-list-search__result-item-text city">
                            188688,                            Россия,                            Ленинградская область,                            д. Старая, улица Верхняя, 20-6                            (Ленинградская область, Всеволожский р-н, дер. Старая, ул. Верхняя. д. 20, кв. 6)                        </span>
                    </div>
                </li>
                <li class="m-nav__separator border-0"></li>
                <li class="m-nav__item">
                    <div class="notification-box__casual-header">
                        <span>Окружения</span>
                    </div>
                    <div style="overflow: auto;">
                        <div id="environment-container-userdata" style="white-space: nowrap;">
                                                                                                <b>ПК</b>
                                    
                                    
                                                                            [ Windows 10 ]
                                                                                                            <br>
                                                                    <b>Монитор</b>
                                    
                                    
                                                                                                                [ 24'' ]
                                                                                                                                                        <br>
                                                                    <b>Телефон</b>
                                    SAMSUNG
                                    galaxy s20 fe
                                                                            [ Android Latest ]
                                                                                                                [ 0'' ]
                                                                                                                                                        <br>
                                                                                    </div>
                    </div>
                </li>
                <li class="m-nav__separator border-0"></li>
                <li class="m-nav__item">
                    <div class="notification-box__casual-header">
                        <span>Текущая занятость</span>
                    </div>

                    <div style="overflow: auto;">
                        <table id="project-container-userdata">
                            <tbody>
                                                                                                                                                                                    <tr>
                                                <td>20%</td>
                                                <td class="px-4"><b>Производственный проект по тестированию API (REST / SOAP)</b></td>
                                                <td>QA инженер</td>
                                            </tr>
                                                                                                                                                                                                                                    <tr>
                                                <td>60%</td>
                                                <td class="px-4"><b>Производственный проект по автоматизации на Java / C#</b></td>
                                                <td>Автоматизатор</td>
                                            </tr>
                                                                                                                                                                                                                                    <tr>
                                                <td>20%</td>
                                                <td class="px-4"><b>Курс Jedi point</b></td>
                                                <td>Автоматизатор</td>
                                            </tr>
                                                                                                                                                                    </tbody>
                        </table>
                    </div>

                    <div style="overflow: auto;" class="mt-3">
                        <table id="workload-container-userdata">
                            <tbody>
                                                                                                                    </tbody>
                        </table>
                    </div>
                </li>
            </ul>
        </div>
        <div class="notification-box__button-area notification-box__button-area">
            <a href="/user/518/show/projects" class="notification-box__btn notification-box__btn--primary" tabindex="-1">Редактировать</a>
            <button id="button-user-data" type="button" class="notification-box__btn notification-box__btn--secondary" tabindex="-1">Данные актуальны</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.3.0/mustache.min.js"></script>

    <script id="environment-template-userdate" type="text/template">
        
            {{#items}}
                <b>{{modelType.name}}</b>
                {{modelManufacturer}}
                {{modelName}}
                {{#isNotMonitor}}
                    [ {{osName.name}} {{osVersion}} ]
                {{/isNotMonitor}}
                {{#isNotPC}}
                    [ {{displayResolution}}'' ]
                    {{#displayPixelWidth}}
                        {{#displayPixelHeight}}
                            [ {{displayPixelWidth}} x {{displayPixelHeight}} ]
                        {{/displayPixelHeight}}
                    {{/displayPixelWidth}}
                    {{#displayDotWidth}}
                        {{#displayDotHeight}}
                            [ {{displayDotWidth}} x {{displayDotHeight}} ]
                        {{/displayDotHeight}}
                    {{/displayDotWidth}}
                {{/isNotPC}}
                    <br />
            {{/items}}
            
    </script>

    <script id="project-template-userdata" type="text/template">
        
            {{#items}}
                {{^type.is-foreign}}
                    {{#workload}}
                    <tr>
                    <td>{{workload}}%</td>
                    <td class="px-4"><b>{{project.name}}</b></td>
                    <td>{{role.name}}</td>
                    </tr>
                    {{/workload}}
                {{/type.is-foreign}}
            {{/items}}
            
    </script>

    <script id="workload-template-userdata" type="text/template">
        
            {{#items}}
            {{#workload}}
            <tr>
            <td>{{ workload }}%</td>
            <td class="px-4"><b>{{ project.name }}</b></td>
            <td>Аккаунт-менеджер</td>
            </tr>
            {{/workload}}
            {{/items}}
    
    </script>

    <script>
        $('#button-user-data').on("click", function(event) {

            event.stopImmediatePropagation();

            var request = $.ajax({
                url: '/api/v1/confirm/userdata.json',
                dataType: "json"
            });

            request.fail(function (jqXHR, textStatus) {
                console.log("Request failed: " + textStatus);
            });

            request.always(function (response) {
                var errors = 0;
                $.each(response.messages, function (idx, item) {
                    toastr[item.type](item.text);
                    if (item.type == 'error') errors++;
                });

                refreshNotification('NeedConfirmUserInfo');
            });
        });

        function refreshConfirmEnvironment() {
            var request = $.ajax({
                type: "POST",
                url: '/api/v1/environment/user/518.json',
                dataType: "json"
            });

            request.done(function( response ) {
                var errors = 0;
                $.each(response.messages, function(idx, item){
                    if (item.type == 'error') errors++;
                    toastr[item.type](item.text);
                });

                if( errors == 0 ){
                    renderConfirmEnvironment(response.data);
                }
            });

            request.fail(function( jqXHR, textStatus ) {
                console.log( "Request failed: " + textStatus );
            });
        }

        function renderConfirmEnvironment(items) {
            var $container = $("#environment-container-userdata");
            var template = $("#environment-template-userdate").html();
            var text = Mustache.render(template, {'items': items});
            $container.html(text);

            updateHeightCurrentNotification();
        }

        function refreshConfirmProjects(){
            var request = $.ajax({
                type: "POST",
                url: '/api/v1/project-user/user/518/project.json',
                dataType: "json"
            });

            request.done(function( response ) {
                var errors = 0;
                $.each(response.messages, function(idx, item){
                    if (item.type == 'error') errors++;
                    toastr[item.type](item.text);
                });

                if( errors == 0 ){
                    renderConfirmProject(response.data);
                }
            });

            request.fail(function( jqXHR, textStatus ) {
                console.log( "Request failed: " + textStatus );
            });
        }

        function renderConfirmProject(items) {
            var $container = $("#project-container-userdata");
            var template = $("#project-template-userdata").html();
            var text = Mustache.render(template, {'items': items});
            $container.html(text);

            updateHeightCurrentNotification();
        }

        function refreshConfirmWorkload() {
            var request = $.ajax({
                type: "POST",
                url: '/api/v1/workload/user/518/workload.json',
                dataType: "json"
            });

            request.done(function( response ) {
                var errors = 0;
                $.each(response.messages, function(idx, item){
                    if (item.type == 'error') errors++;
                    toastr[item.type](item.text);
                });

                if( errors == 0 ){
                    renderConfirmWorkload(response.data);
                }
            });

            request.fail(function( jqXHR, textStatus ) {
                console.log( "Request failed: " + textStatus );
            });
        }

        function renderConfirmWorkload(items) {
            var $container = $("#workload-container-userdata");
            var template = $("#workload-template-userdata").html();
            var text = Mustache.render(template, {'items': items});
            $container.html(text);

            updateHeightCurrentNotification();
        }
    </script>
</div></div></div><div class="notification-box-slide--active slick-slide" data-slick-index="5" aria-hidden="true" tabindex="-1" style="position: relative; left: -1712px; top: 0px; z-index: 998; opacity: 0; width: 1712px;"><div><div id="NeedFillWorkerReport" class="notification-box-slide notification-box-slide--active" style="width: 100%; display: inline-block;">
    <div class="notification-box">
        <div class="notification-box__icon-area notification-box__icon-area--top">
            <i class="la la-exclamation-circle"></i>
        </div>
        <div class="notification-box__content-area">
            <p>Вашего отзыва о своей работе ожидают следующие коллеги:</p>
                                    <ul class="pl-4">
                                    <li>Мелешин Роман (заполните анкету
                        до 18.09.2021)
                    </li>
                                                </ul>
        </div>
        <div class="notification-box__button-area">
                            <a href="/kpicrreport/report/768/colleague-report/2502/show" class="notification-box__btn notification-box__btn--secondary" tabindex="-1">
                    Перейти к отзыву
                </a>
                    </div>
    </div>
</div></div></div></div></div></div>
            </div>
        </div>
    </div>
</div>

<script>
    $( document ).ready(function() {
        initNotificationCarousel();
    });

    function initNotificationCarousel() {
        $( "#NotificationContainer" ).show();

        $( "#NotificationCarousel" ).slick({
            dots: false,
            arrows: false,
            infinite: true,
            slidesToShow: 1,
            adaptiveHeight: true,
            fade: true,
            responsive: [
                {
                    breakpoint: 560,
                    settings: {
                        dots: true,
                    }
                }]
        });

        $( ".notification-slick-prev" ).on( "click", function () {
            $( "#NotificationCarousel" ).slick( "slickPrev" );
        });

        $( ".notification-slick-next" ).on( "click", function () {
            $( "#NotificationCarousel" ).slick( "slickNext" );
        });

        filterActiveNotifications();
        refreshNotificationCarousel();
    }

    function refreshNotificationCarousel() {
        let $activeNotifications = $('.notification-box-slide.notification-box-slide--active');

        if ( $activeNotifications.length < 1 ) {
            $( "#NotificationContainer" ).hide();
        }

        if ( $activeNotifications.length === 1) {
            $( ".notification-slick-prev, .notification-slick-next" ).hide();
        }

        $('.notification-container-count').text($activeNotifications.length);
    }

    function refreshNotification(notificationId) {
        var request = $.ajax({
            url: '/api/v1/notification-carousel/get-data.json',
            dataType: "json",
            data: { 'notificationId' : notificationId }
        });

        request.fail(function (jqXHR, textStatus) {
            console.log("Request failed: " + textStatus);
        });

        request.always(function (response) {
            let errors = 0;

            $.each(response.messages, function (idx, item) {
                toastr[item.type](item.text);
                if (item.type == 'error') errors++;
            });

            unFilterNotifications();

            console.log('box action');

            if (response['isVisible'] == false) {
                $('#' + notificationId).removeClass('notification-box-slide--active');
                console.log('box action hide');
            } else {
                $('#' + notificationId).addClass('notification-box-slide--active');
                console.log('box action show');
            }

            filterActiveNotifications();
            refreshNotificationCarousel();

            return response;
        });
    }

    function unFilterNotifications() {
        $("#NotificationCarousel").slick('slickUnfilter');
    }

    function filterActiveNotifications() {
        $("#NotificationCarousel .slick-slide").removeClass('notification-box-slide--active');

        $("#NotificationCarousel .notification-box-slide--active").each(function () {
            $(this).closest('.slick-slide').addClass('notification-box-slide--active');
        });

        $("#NotificationCarousel").slick('slickFilter','.notification-box-slide--active');
    }

    function updateHeightCurrentNotification() {
        let $currentSlideContainer = $( "#NotificationCarousel .slick-current" );
        let $slickList = $( "#NotificationCarousel .slick-list" );

        $slickList.height($currentSlideContainer.height());
    }

    function updateWidthNotifications() {
        setTimeout(() => updateWidthNotificationsAfter(), 300);
    }

    function updateWidthNotificationsAfter() {
        $("#NotificationCarousel").slick('refresh');

        //let carouselWidth = $("#NotificationCarousel").width();

        //$("#NotificationCarousel").
    }

    let theme = Cookies.get('notification-theme');
    if (typeof theme !== "undefined")
        $( "#NotificationContainer" ).attr("data-notification-color", theme);

    $( ".notification-theme-toggle" ).on( "click", function () {
        $( ".notification-container-theme" ).toggle();
        $( ".notification-container-title" ).toggle();
    });

    $( '[data-action="theme-selector"]' ).on( "click", function () {
        $( "#NotificationContainer" ).attr("data-notification-color", $(this).attr("data-color"));
        Cookies.set('notification-theme', $(this).attr("data-color"));
    });
</script>        <!-- end: Notification Carousel -->

        <!-- begin::Body -->
        <div class="m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-body">

                            <!-- BEGIN: Left Aside -->

<div id="m_aside_left" class="m-grid__item	m-aside-left  m-aside-left--skin-dark ">
    <!-- BEGIN: Aside Menu -->
<div id="m_ver_menu" class="m-aside-menu m-aside-menu--skin-dark m-aside-menu--submenu-skin-dark m-aside-menu--dropdown mCustomScrollbar _mCS_1 mCS-autoHide mCS_no_scrollbar" data-menu-vertical="true" data-menu-dropdown="true" data-menu-scrollable="true" data-menu-dropdown-timeout="500" style="height: 899px; position: relative; overflow: visible;"><div id="mCSB_1" class="mCustomScrollBox mCS-minimal-dark mCSB_vertical mCSB_outside" style="max-height: none;" tabindex="0"><div id="mCSB_1_container" class="mCSB_container mCS_y_hidden mCS_no_scrollbar_y" style="position:relative; top:0; left:0;" dir="ltr">
    <ul class="m-menu__nav  m-menu__nav--dropdown-submenu-arrow ">
                                    <li class="m-menu__item  m-menu__item--submenu " aria-haspopup="true" data-menu-submenu-toggle="hover">
                    <a class="m-menu__link m-menu__toggle">
                        <span class="m-menu__item-here"></span>
                        <i class="m-menu__link-icon flaticon-users"></i>
                        <span class="m-menu__link-title">
										<span class="m-menu__link-wrap">
											<span class="m-menu__link-text">
												Пользователи
											</span>
										</span>
									</span>
                                                    <i class="m-menu__ver-arrow la la-angle-right"></i>
                                            </a>
                                        <div class="m-menu__submenu">
                        <span class="m-menu__arrow"></span>
                        <ul class="m-menu__subnav">
                            <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                                <a class="m-menu__link ">
                                    <span class="m-menu__item-here"></span>
                                    <span class="m-menu__link-title">
													<span class="m-menu__link-wrap">
														<span class="m-menu__link-text">
															Пользователи
														</span>
													</span>
												</span>
                                </a>
                            </li>

                                                                                                <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/users/list" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-users"></i>
                                            <span class="m-menu__link-text">Список</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/users/workloads" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-users"></i>
                                            <span class="m-menu__link-text">Занятость на проектах</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/org_chart/" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-users"></i>
                                            <span class="m-menu__link-text">Структура компании</span>
                                        </a>
                                    </li>
                                                                                                                </ul>
                    </div>
                                    </li>
                            <li class="m-menu__item  m-menu__item--submenu " aria-haspopup="true" data-menu-submenu-toggle="hover">
                    <a class="m-menu__link m-menu__toggle">
                        <span class="m-menu__item-here"></span>
                        <i class="m-menu__link-icon flaticon-line-graph"></i>
                        <span class="m-menu__link-title">
										<span class="m-menu__link-wrap">
											<span class="m-menu__link-text">
												Отчеты
											</span>
										</span>
									</span>
                                                    <i class="m-menu__ver-arrow la la-angle-right"></i>
                                            </a>
                                        <div class="m-menu__submenu">
                        <span class="m-menu__arrow"></span>
                        <ul class="m-menu__subnav">
                            <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                                <a class="m-menu__link ">
                                    <span class="m-menu__item-here"></span>
                                    <span class="m-menu__link-title">
													<span class="m-menu__link-wrap">
														<span class="m-menu__link-text">
															Отчеты
														</span>
													</span>
												</span>
                                </a>
                            </li>

                                                                                                <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/report/stats/user/my" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-line-graph"></i>
                                            <span class="m-menu__link-text">Моя сводка</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/report/group/edit" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-line-graph"></i>
                                            <span class="m-menu__link-text">Отчет за сегодня</span>
                                        </a>
                                    </li>
                                                                                                                </ul>
                    </div>
                                    </li>
                            <li class="m-menu__item  m-menu__item--submenu " aria-haspopup="true" data-menu-submenu-toggle="hover">
                    <a class="m-menu__link m-menu__toggle">
                        <span class="m-menu__item-here"></span>
                        <i class="m-menu__link-icon flaticon-paper-plane "></i>
                        <span class="m-menu__link-title">
										<span class="m-menu__link-wrap">
											<span class="m-menu__link-text">
												KPI
											</span>
										</span>
									</span>
                                                    <i class="m-menu__ver-arrow la la-angle-right"></i>
                                            </a>
                                        <div class="m-menu__submenu">
                        <span class="m-menu__arrow"></span>
                        <ul class="m-menu__subnav">
                            <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                                <a class="m-menu__link ">
                                    <span class="m-menu__item-here"></span>
                                    <span class="m-menu__link-title">
													<span class="m-menu__link-wrap">
														<span class="m-menu__link-text">
															KPI
														</span>
													</span>
												</span>
                                </a>
                            </li>

                                                                                                <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/kpi/my-progress" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-paper-plane "></i>
                                            <span class="m-menu__link-text">Динамика развития</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/idptaskuser/" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-paper-plane "></i>
                                            <span class="m-menu__link-text">ИПР</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/kpi/user-report/" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-paper-plane "></i>
                                            <span class="m-menu__link-text">Анкеты ревью</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/kpi/reference-roles-and-grades" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-paper-plane "></i>
                                            <span class="m-menu__link-text">Справочник ролей и грейдов</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/kpi/reference-skills" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-paper-plane "></i>
                                            <span class="m-menu__link-text">Справочник навыков</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/kpi/reference-standards" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-paper-plane "></i>
                                            <span class="m-menu__link-text">Справочник норм</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/kpicrreport/" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-paper-plane "></i>
                                            <span class="m-menu__link-text">Анкеты "Отзыв коллеги/ТМ"</span>
                                        </a>
                                    </li>
                                                                                                                </ul>
                    </div>
                                    </li>
                            <li class="m-menu__item  m-menu__item--submenu " aria-haspopup="true" data-menu-submenu-toggle="hover">
                    <a class="m-menu__link m-menu__toggle">
                        <span class="m-menu__item-here"></span>
                        <i class="m-menu__link-icon flaticon-calendar-2"></i>
                        <span class="m-menu__link-title">
										<span class="m-menu__link-wrap">
											<span class="m-menu__link-text">
												Графики работы
											</span>
										</span>
									</span>
                                                    <i class="m-menu__ver-arrow la la-angle-right"></i>
                                            </a>
                                        <div class="m-menu__submenu">
                        <span class="m-menu__arrow"></span>
                        <ul class="m-menu__subnav">
                            <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                                <a class="m-menu__link ">
                                    <span class="m-menu__item-here"></span>
                                    <span class="m-menu__link-title">
													<span class="m-menu__link-wrap">
														<span class="m-menu__link-text">
															Графики работы
														</span>
													</span>
												</span>
                                </a>
                            </li>

                                                                                                <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/calendar/" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-calendar-2"></i>
                                            <span class="m-menu__link-text">Графики работы</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/eventrequest/" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-calendar-2"></i>
                                            <span class="m-menu__link-text">Заявки на изменение</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/calendar/calendar-event-ribbon" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-calendar-2"></i>
                                            <span class="m-menu__link-text">Лента событий</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/calendar/summary-year-report" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-calendar-2"></i>
                                            <span class="m-menu__link-text">Статистика</span>
                                        </a>
                                    </li>
                                                                    <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/calendar/user-vacation-report" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-calendar-2"></i>
                                            <span class="m-menu__link-text">Ежегодные отпуска</span>
                                        </a>
                                    </li>
                                                                                                                </ul>
                    </div>
                                    </li>
                            <li class="m-menu__item " aria-haspopup="true" data-menu-submenu-toggle="hover">
                    <a class="m-menu__link m-menu__toggle" href="/salary-user/">
                        <span class="m-menu__item-here"></span>
                        <i class="m-menu__link-icon flaticon-coins"></i>
                        <span class="m-menu__link-title">
										<span class="m-menu__link-wrap">
											<span class="m-menu__link-text">
												Моя зарплата
											</span>
										</span>
									</span>
                                            </a>
                                    </li>
                            <li class="m-menu__item " aria-haspopup="true" data-menu-submenu-toggle="hover">
                    <a class="m-menu__link m-menu__toggle" href="/thanks/">
                        <span class="m-menu__item-here"></span>
                        <i class="m-menu__link-icon flaticon-open-box"></i>
                        <span class="m-menu__link-title">
										<span class="m-menu__link-wrap">
											<span class="m-menu__link-text">
												Благодарности
											</span>
										</span>
									</span>
                                            </a>
                                    </li>
                            <li class="m-menu__item  m-menu__item--submenu " aria-haspopup="true" data-menu-submenu-toggle="hover">
                    <a class="m-menu__link m-menu__toggle">
                        <span class="m-menu__item-here"></span>
                        <i class="m-menu__link-icon flaticon-map-location"></i>
                        <span class="m-menu__link-title">
										<span class="m-menu__link-wrap">
											<span class="m-menu__link-text">
												Карта ЛК
											</span>
										</span>
									</span>
                                                    <i class="m-menu__ver-arrow la la-angle-right"></i>
                                            </a>
                                        <div class="m-menu__submenu">
                        <span class="m-menu__arrow"></span>
                        <ul class="m-menu__subnav">
                            <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                                <a class="m-menu__link ">
                                    <span class="m-menu__item-here"></span>
                                    <span class="m-menu__link-title">
													<span class="m-menu__link-wrap">
														<span class="m-menu__link-text">
															Карта ЛК
														</span>
													</span>
												</span>
                                </a>
                            </li>

                                                                                                <li class="m-menu__item " aria-haspopup="true" data-redirect="true">
                                        <a href="/company-map/" class="m-menu__link ">
                                            <i class="m-menu__link-icon flaticon-map-location"></i>
                                            <span class="m-menu__link-text">Карта</span>
                                        </a>
                                    </li>
                                                                                                                </ul>
                    </div>
                                    </li>
                            <li class="m-menu__item " aria-haspopup="true" data-menu-submenu-toggle="hover">
                    <a class="m-menu__link m-menu__toggle" href="/reference/">
                        <span class="m-menu__item-here"></span>
                        <i class="m-menu__link-icon flaticon-book"></i>
                        <span class="m-menu__link-title">
										<span class="m-menu__link-wrap">
											<span class="m-menu__link-text">
												Справка
											</span>
										</span>
									</span>
                                            </a>
                                    </li>
                        </ul>
</div></div><div id="mCSB_1_scrollbar_vertical" class="mCSB_scrollTools mCSB_1_scrollbar mCS-minimal-dark mCSB_scrollTools_vertical" style="display: none;"><div class="mCSB_draggerContainer"><div id="mCSB_1_dragger_vertical" class="mCSB_dragger" style="position: absolute; min-height: 50px; height: 0px; top: 0px;"><div class="mCSB_dragger_bar" style="line-height: 50px;"></div></div><div class="mCSB_draggerRail"></div></div></div></div>
<!-- END: Aside Menu -->




</div>
<!-- END: Left Aside -->
            
            <div class="m-grid__item m-grid__item--fluid m-wrapper">
                <style>
        .m-portlet__body .tabs-left.nav-tabs, .m-portlet__body .tabs-right.nav-tabs {
            border-bottom: 0;
        }

        .m-portlet__body .nav-pills, .m-portlet__body .nav-tabs {
            margin-bottom: 10px;
        }

        .m-portlet__body .nav-tabs {
            border-bottom: 1px solid #ddd;
        }

        .m-portlet__body .nav {
            margin-bottom: 0;
            padding-left: 0;
            list-style: none;
            display: block;
        }

        .m-portlet__body .tabs-left.nav-tabs > li, .m-portlet__body .tabs-right.nav-tabs > li {
            float: none;
        }

        .m-portlet__body .nav-tabs > li {
            float: left;
            margin-bottom: -1px;
        }

        .m-portlet__body .nav > li, .m-portlet__body .nav > li > a {
            display: block;
            position: relative;
        }

        .tabs-left.nav-tabs > li > a {
            display: block;
            margin-right: -1px;
        }

        .tabs-left.nav-tabs > li > a, .tabs-right.nav-tabs > li > a {
            margin-right: 0;
            margin-bottom: 3px;
        }

        .nav-pills > li > a, .nav-tabs > li > a {
            font-size: 14px;
        }

        .nav-tabs > li > a {
            margin-right: 2px;
            line-height: 1.42857;
        }

        .nav > li > a {
            padding: 10px 15px;
        }

        .nav > li, .nav > li > a {
            display: block;
            position: relative;
        }

        .nav-tabs > li > a {
            border: 1px solid #f7f8fa;
            -webkit-border-radius: 4px 0 0 4px;
            -moz-border-radius: 4px 0 0 4px;
            -ms-border-radius: 4px 0 0 4px;
            -o-border-radius: 4px 0 0 4px;
            background-color: #f7f8fa;
            color: #575962;
        }

        .nav-tabs > li > a.has-error {
            border: 1px solid rgba(244, 81, 108, 0.12);
            background-color: rgba(244, 81, 108, 0.07);
            border-right: rgba(244, 81, 108, 0.07);
            color: #f4516c;
        }.nav-tabs > li > a.active.has-error {
             border: 1px solid rgba(244, 81, 108, 0.12);
             background-color: rgba(251, 83, 110, 0.03);
             border-right: rgba(251, 83, 110, 0.07);
             color: #f4516c;
        }

        .nav-tabs > li > a:hover {
            text-decoration: none;
        }

        .nav-tabs > li > a.active {
            background-color: white;
            border-right: 0;
            font-weight: bold;
        }

        .tabs-left.nav-tabs > li > a {
            display: block;
            margin-right: -1px;
        }

        .tabs-left.nav-tabs > li > a, .tabs-right.nav-tabs > li > a {
            margin-right: 0;
            margin-bottom: 3px;
        }

        .nav > li > a {
            padding: 10px 15px;
        }

        .nav > li, .nav > li > a {
            display: block;
            position: relative;
        }

        .report-row-template .m-badge{
            position: relative;
            top: 20px;
        }
        .activity  .m-badge{
            position: relative;
            top: 13px;
        }

        .tab-content .m-badge i {
            top: 2px;
            position: relative;
            cursor: pointer;
        }

        .tab-content .activity {
            margin-bottom: 5px;
        }

        .m-portlet__body .projects {
            padding-right: 0
        }

        .m-portlet__body .reports {
            margin-left: 0;
            border-top: 1px solid #f7f8fa;
            border-right: 1px solid #f7f8fa;
            border-bottom: 1px solid #f7f8fa;
            border-left: 1px solid #f7f8fa;
            border-radius: 0 4px 4px 4px;
        }

        .m-portlet__body .select2-selection {
            min-width: 200px;
        }

        .select2-dropdown {
            min-width: 200px;
        }

        .emoji > div{
            display: inline-block;
            opacity: 0.3;
        }
        .emoji > div:hover{
            opacity: 0.75;
        }
        .emoji > div.active{
            opacity: 1;
        }
        .emoji .image {
            width: 30px;
            height: 30px;
            background-size: cover;
            display: block;
            margin: 0 auto;
            margin-bottom: 4px;
            margin-top: 4px;
            cursor: pointer;

        }

        .emoji-happy .image {
            background-image: url('/img/emoji-metronic/happy-5.png?211005_1425_26');
        }

        .emoji-inspired .image {
            background-image: url('/img/emoji-metronic/angel.png?211005_1425_26');
        }

        .emoji-ok .image {
            background-image: url('/img/emoji-metronic/happy-9.png?211005_1425_26');
        }

        .emoji-neutral .image {
            background-image: url('/img/emoji-metronic/sceptic-6.png?211005_1425_26');
        }

        .emoji-sad .image {
            background-image: url('/img/emoji-metronic/sad-1.png?211005_1425_26');
        }

        .emoji-tired .image {
            background-image: url('/img/emoji-metronic/dazed-2.png?211005_1425_26');
        }

        .emoji-upset .image {
            background-image: url('/img/emoji-metronic/sad-3.png?211005_1425_26');
        }

        .emoji-angry .image {
            background-image: url('/img/emoji-metronic/angry-3.png?211005_1425_26');
        }

        .m-widget14 .m-widget14__chart .m-widget14__stat {
            font-size: 1.4rem;
        }

        .m-widget14 {
            padding: 0;
        }

        .m-widget14 .m-widget14__chart .m-widget14__stat {
            left: 58%;
        }

        .m-section .m-section__sub {
            margin: 0 0 3px 0;
        }
        .report-rows .btn{
            padding: 0.65rem 1.0rem;
        }
        .report-rows.table-striped .row:nth-of-type(odd) {
            background-color: rgba(183, 183, 183, 0.05);
        }
        .bootstrap-touchspin{
            padding: 5px 0;
        }
        .m-autosize{
            margin: 5px 0;
        }
        .activityName{
            padding: 13px 14px;
        }
        .tabs-left li{
            left: 1px;
            background-color: white;
            z-index: 10;
        }
        .report-row-template input, .report-row-template textarea{
            display: none;
        }
        .report-row-template .hours-sum{
            text-align: center;
            position: relative;
            padding-top: 8px;
        }
        .tab-pane .m-section__heading{
            text-align: center;
        }
        .projectName{
            width: 84%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: inline-block;
            top: 4px;
            position: relative;
        }
        .tabs-left li a .m-badge{
            position: relative;
            top: -2px;
            padding: 0 5px;
            display: none;
        }
        .m-separator--dashed{
            margin: 0;
        }
        .m-section{
            margin: 0;
        }
        .m-portlet .m-portlet__body{
            padding: 1rem 2.2rem 1rem;
        }
        .report-row-template .activityName{
            padding-bottom: 0;
        }
        .bootstrap-touchspin{
            text-align: center;
        }
        .bootstrap-touchspin input{
            min-width: 65px;
        }
        .activity.has-error textarea{
            border-color: #f4516c;
        }
        .activity textarea{
            overflow: hidden !important;
            resize: none;
        }
        .tabs-left .m-menu__link-badge{
            top: 5px;
            position: relative;
        }

        .bg-progress-activity-1{
            background-color: #ff5e00;
        }
        .bg-progress-activity-2{
            background-color: #ffed00;
        }
        .bg-progress-activity-3{
            background-color: #b3cc00;
        }
        .bg-progress-activity-4{
            background-color: #00a212;
        }
        .bg-progress-activity-5{
            background-color: #00a59c;
        }
        .bg-progress-activity-6{
            background-color: #00b0e6;
        }
        .bg-progress-activity-7{
            background-color: #006bb8;
        }
        .bg-progress-activity-8{
            background-color: #4f2e8e;
        }
        .bg-progress-activity-9{
            background-color: #92278b;
        }
        .bg-progress-activity-10{
            background-color: #d20264;
        }
        .bg-progress-activity-11{
            background-color: #ff0073;
        }
        .bg-progress-activity-12{
            background-color: #ff0015;
        }
        .bg-progress-activity-13{
            background-color: #ff8e33;
        }
        .bg-progress-activity-14{
            background-color: #fff45a;
        }
        .bg-progress-activity-15{
            background-color: #ccd73b;
        }
        .bg-progress-activity-16{
            background-color: #42b64a;
        }
        .bg-progress-activity-16{
            background-color: #00bbb6;
        }
        .bg-progress-activity-17{
            background-color: #00c3ec;
        }
        .bg-progress-activity-18{
            background-color: #0086c6;
        }
        .bg-progress-activity-19{
            background-color: #795ca3;
        }
        .bg-progress-activity-20{
            background-color: #ac62a5;
        }
        .bg-progress-activity-21{
            background-color: #e44c83;
        }
        .bg-progress-activity-22{
            background-color: #ff4d8e;
        }
        .bg-progress-activity-23{
            background-color: #ff4d31;
        }
        .row.separator{
            padding:0
        }

        /* Для iPhone SE */
        @media screen and (max-width: 330px) {
            .m--visible-tablet-and-mobile .m-portlet .m-portlet__head .m-portlet__head-caption .m-portlet__head-title .m-portlet__head-text{
                font-weight: 400;
                text-overflow: ellipsis;
                /* Required for text-overflow to do anything */
                white-space: nowrap;
                overflow: hidden;
                max-width: 170px !important;
            }
        }

        .alert.project-description {
            display: block !important;
        }
    </style>
    <div class="m-content m--visible-desktop">
        <input id="token" type="hidden" value="1cb2ee76f6606b28e25d58c6f69f14da0d7ced1c">
                    <div class="m-portlet hidden-xs">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-caption">
                        <div class="row">
                            <div class="col-lg-6 m--align-left">
                                <div class="m-portlet__head-title">
                                    <h3 class="m-portlet__head-text">
                                        Отчет за сегодня
                                    </h3>
                                </div>
                            </div>
                            <div class="col-lg-6 m--align-right m--valign-middle">
                                <button type="submit" class="btn btn-brand">
                                    Сохранить отчет за 7 Октября
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="m-portlet__body">
                    <div class="row">
                        <div class="col-md-3 col-sm-3 col-xs-3 projects">
                            <ul class="nav nav-tabs tabs-left">
                                                                    <li>
                                        <a href="#tab_206" data-toggle="tab" class="active" aria-expanded="true">
                                            <span class="projectName">Курс Jedi point</span>
                                            <span class="m-menu__link-badge pull-right">
												<span class="m-badge m-badge--brand sumProjectHours206" style="display: none;">0</span>
											</span>
                                        </a>

                                    </li>
                                                                    <li>
                                        <a href="#tab_353" data-toggle="tab">
                                            <span class="projectName">Производственный проект по автоматизации на Java / C#</span>
                                            <span class="m-menu__link-badge pull-right">
												<span class="m-badge m-badge--brand sumProjectHours353" style="display: none;">0</span>
											</span>
                                        </a>

                                    </li>
                                                                    <li>
                                        <a href="#tab_355" data-toggle="tab">
                                            <span class="projectName">Производственный проект по тестированию API (REST / SOAP)</span>
                                            <span class="m-menu__link-badge pull-right">
												<span class="m-badge m-badge--brand sumProjectHours355" style="display: none;">0</span>
											</span>
                                        </a>

                                    </li>
                                                            </ul>
                        </div>
                        <div class="col-md-9 col-sm-9 col-xs-9 reports">
                            <div class="tab-content">
                                                                    <div class="tab-pane m-portlet__body active" id="tab_206" project-id="206" aria-expanded="true">
                                        <div class="m-section">
                                            <div class="row">
                                                <div class="col-md-5 col-sm-5 col-xs-5">
                                                    <h3 class="m-section__heading">
                                                        Активность
                                                    </h3>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-3">
                                                    <h3 class="m-section__heading">
                                                        Время
                                                    </h3>

                                                </div>
                                                <div class="col-md-4 col-sm-4 col-xs-4">
                                                    <h3 class="m-section__heading" data-toggle="m-tooltip" title="" data-html="true" data-original-title="Обязательное поле">
                                                        Комментарий
                                                    </h3>
                                                </div>
                                            </div>

                                            <div class="report-rows table-striped">
                                                                                                    <div class="row activity" activity-id="21">
                                                        <div class="col-md-4 col-sm-4 col-xs-4 activityName">
                                                            Проведение тренингов, ответы на домашки
                                                        </div>
                                                        <div class="col-md-1 col-sm-1 col-xs-1">
                                                            <span class="m-badge m-badge--danger"><i class="fa fa-minus"></i></span>
                                                        </div>
                                                        <div class="col-md-3 col-sm-3 col-xs-3">
                                                            <div class="m-bootstrap-touchspin-brand">
                                                                <div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-down" type="button">-</button></span><span class="input-group-addon bootstrap-touchspin-prefix" style="display: none;"></span><input type="text" class="form-control report-time" value="0" autocomplete="off" placeholder="" activity-id="21" style="display: block;"><span class="input-group-addon bootstrap-touchspin-postfix" style="display: none;"></span><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-up" type="button">+</button></span></div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4 col-sm-4 col-xs-4">
                                                            <textarea class="form-control m-autosize" rows="1" style="overflow: hidden scroll; overflow-wrap: break-word;"></textarea>
                                                        </div>
                                                    </div>
                                                                                                <div class="alert m-alert--default" role="alert" style="display: none;">
                                                    Нажмите <span class="m-badge m-badge--success"><i class="fa fa-plus"></i></span> и добавьте отчет об активности
                                                </div>
                                            </div>

                                            <div class="row separator">
                                                <div class="col-md-12 col-sm-12 col-xs-12 ">
                                                    <div class="m-separator m-separator--dashed"></div>
                                                </div>
                                            </div>

                                            <div class="row report-row-template">
                                                <div class="col-md-4 col-sm-4 col-xs-4 activityName">
                                                    <select class="form-control activityNames m-select2 select2-hidden-accessible" tabindex="-1" aria-hidden="true">
                                                                                                                    <option value="22">Другое (в комментарии обязательно указать, что!)</option>
                                                                                                                    <option value="26">Коммуникации</option>
                                                                                                                    <option value="20">Оргвопросы по тренингам</option>
                                                                                                                    <option value="15">Постановка задач</option>
                                                                                                                    <option value="21">Проведение тренингов, ответы на домашки</option>
                                                                                                                    <option value="47">Работа с командой</option>
                                                                                                            </select><span class="select2 select2-container select2-container--default" dir="ltr" style="width: 386.141px;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-labelledby="select2-yovw-container"><span class="select2-selection__rendered" id="select2-yovw-container" title="Другое (в комментарии обязательно указать, что!)">Другое (в комментарии обязательно указать, что!)</span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
                                                </div>
                                                <div class="col-md-1 col-sm-1 col-xs-1">
                                                    <span class="m-badge m-badge--success"><i class="fa fa-plus"></i></span>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-3">

                                                    <div class="m-bootstrap-touchspin-brand">
                                                        <input type="text" class="form-control " value="0" placeholder="">
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-sm-4 col-xs-4">
                                                    <textarea class="form-control m-autosize" rows="1" style="overflow-x: hidden; overflow-wrap: break-word; resize: none;"></textarea>
                                                </div>
                                            </div>

                                                                                    </div>
                                    </div>
                                                                    <div class="tab-pane m-portlet__body " id="tab_353" project-id="353">
                                        <div class="m-section">
                                            <div class="row">
                                                <div class="col-md-5 col-sm-5 col-xs-5">
                                                    <h3 class="m-section__heading">
                                                        Активность
                                                    </h3>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-3">
                                                    <h3 class="m-section__heading">
                                                        Время
                                                    </h3>

                                                </div>
                                                <div class="col-md-4 col-sm-4 col-xs-4">
                                                    <h3 class="m-section__heading" data-toggle="m-tooltip" title="" data-html="true" data-original-title="Обязательное поле">
                                                        Комментарий
                                                    </h3>
                                                </div>
                                            </div>

                                            <div class="report-rows table-striped">
                                                                                                    <div class="row activity" activity-id="169">
                                                        <div class="col-md-4 col-sm-4 col-xs-4 activityName">
                                                            Песочница Автоматизация
                                                        </div>
                                                        <div class="col-md-1 col-sm-1 col-xs-1">
                                                            <span class="m-badge m-badge--danger"><i class="fa fa-minus"></i></span>
                                                        </div>
                                                        <div class="col-md-3 col-sm-3 col-xs-3">
                                                            <div class="m-bootstrap-touchspin-brand">
                                                                <div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-down" type="button">-</button></span><span class="input-group-addon bootstrap-touchspin-prefix" style="display: none;"></span><input type="text" class="form-control report-time" value="0" autocomplete="off" placeholder="" activity-id="169" style="display: block;"><span class="input-group-addon bootstrap-touchspin-postfix" style="display: none;"></span><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-up" type="button">+</button></span></div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4 col-sm-4 col-xs-4">
                                                            <textarea class="form-control m-autosize" rows="1" style="overflow: hidden scroll; overflow-wrap: break-word;"></textarea>
                                                        </div>
                                                    </div>
                                                                                                <div class="alert m-alert--default" role="alert" style="display: none;">
                                                    Нажмите <span class="m-badge m-badge--success"><i class="fa fa-plus"></i></span> и добавьте отчет об активности
                                                </div>
                                            </div>

                                            <div class="row separator">
                                                <div class="col-md-12 col-sm-12 col-xs-12 ">
                                                    <div class="m-separator m-separator--dashed"></div>
                                                </div>
                                            </div>

                                            <div class="row report-row-template">
                                                <div class="col-md-4 col-sm-4 col-xs-4 activityName">
                                                    <select class="form-control activityNames m-select2">
                                                                                                                    <option value="7">Баги: Локализация и заведение</option>
                                                                                                                    <option value="13">Баги: Проверка исправленных</option>
                                                                                                                    <option value="169">Песочница Автоматизация</option>
                                                                                                                    <option value="40">Приемка работ</option>
                                                                                                                    <option value="86">Проверка тестов</option>
                                                                                                                    <option value="138">Работа с документацией</option>
                                                                                                            </select>
                                                </div>
                                                <div class="col-md-1 col-sm-1 col-xs-1">
                                                    <span class="m-badge m-badge--success"><i class="fa fa-plus"></i></span>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-3">

                                                    <div class="m-bootstrap-touchspin-brand">
                                                        <input type="text" class="form-control " value="0" placeholder="">
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-sm-4 col-xs-4">
                                                    <textarea class="form-control m-autosize" rows="1" style="overflow-x: hidden; overflow-wrap: break-word; resize: none;"></textarea>
                                                </div>
                                            </div>

                                                                                            <div class="row separator">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 ">
                                                        <div class="m-separator m-separator--dashed"></div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 ">
                                                        <div class="alert m-alert--default project-description" role="alert" style="display: none;">
                                                            Описание проекта: Внутренняя корпоративная система по учету отработанного времени, расчета отпусков, рабочих графиков сотрудников
                                                        </div>
                                                    </div>
                                                </div>
                                                                                    </div>
                                    </div>
                                                                    <div class="tab-pane m-portlet__body " id="tab_355" project-id="355">
                                        <div class="m-section">
                                            <div class="row">
                                                <div class="col-md-5 col-sm-5 col-xs-5">
                                                    <h3 class="m-section__heading">
                                                        Активность
                                                    </h3>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-3">
                                                    <h3 class="m-section__heading">
                                                        Время
                                                    </h3>

                                                </div>
                                                <div class="col-md-4 col-sm-4 col-xs-4">
                                                    <h3 class="m-section__heading" data-toggle="m-tooltip" title="" data-html="true" data-original-title="Обязательное поле">
                                                        Комментарий
                                                    </h3>
                                                </div>
                                            </div>

                                            <div class="report-rows table-striped">
                                                                                                    <div class="row activity" activity-id="168">
                                                        <div class="col-md-4 col-sm-4 col-xs-4 activityName">
                                                            Песочница REST API
                                                        </div>
                                                        <div class="col-md-1 col-sm-1 col-xs-1">
                                                            <span class="m-badge m-badge--danger"><i class="fa fa-minus"></i></span>
                                                        </div>
                                                        <div class="col-md-3 col-sm-3 col-xs-3">
                                                            <div class="m-bootstrap-touchspin-brand">
                                                                <div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-down" type="button">-</button></span><span class="input-group-addon bootstrap-touchspin-prefix" style="display: none;"></span><input type="text" class="form-control report-time" value="0" autocomplete="off" placeholder="" activity-id="168" style="display: block;"><span class="input-group-addon bootstrap-touchspin-postfix" style="display: none;"></span><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-up" type="button">+</button></span></div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4 col-sm-4 col-xs-4">
                                                            <textarea class="form-control m-autosize" rows="1" style="overflow: hidden scroll; overflow-wrap: break-word;"></textarea>
                                                        </div>
                                                    </div>
                                                                                                <div class="alert m-alert--default" role="alert" style="display: none;">
                                                    Нажмите <span class="m-badge m-badge--success"><i class="fa fa-plus"></i></span> и добавьте отчет об активности
                                                </div>
                                            </div>

                                            <div class="row separator">
                                                <div class="col-md-12 col-sm-12 col-xs-12 ">
                                                    <div class="m-separator m-separator--dashed"></div>
                                                </div>
                                            </div>

                                            <div class="row report-row-template">
                                                <div class="col-md-4 col-sm-4 col-xs-4 activityName">
                                                    <select class="form-control activityNames m-select2">
                                                                                                                    <option value="7">Баги: Локализация и заведение</option>
                                                                                                                    <option value="13">Баги: Проверка исправленных</option>
                                                                                                                    <option value="26">Коммуникации</option>
                                                                                                                    <option value="168">Песочница REST API</option>
                                                                                                                    <option value="99">Тестирование: Интеграционное</option>
                                                                                                                    <option value="5">Тестирование: По готовым тестам</option>
                                                                                                            </select>
                                                </div>
                                                <div class="col-md-1 col-sm-1 col-xs-1">
                                                    <span class="m-badge m-badge--success"><i class="fa fa-plus"></i></span>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-3">

                                                    <div class="m-bootstrap-touchspin-brand">
                                                        <input type="text" class="form-control " value="0" placeholder="">
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-sm-4 col-xs-4">
                                                    <textarea class="form-control m-autosize" rows="1" style="overflow-x: hidden; overflow-wrap: break-word; resize: none;"></textarea>
                                                </div>
                                            </div>

                                                                                            <div class="row separator">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 ">
                                                        <div class="m-separator m-separator--dashed"></div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 ">
                                                        <div class="alert m-alert--default project-description" role="alert" style="display: none;">
                                                            Описание проекта: Система по предоставлению кредитов, расчета процентной ставки, выбора банка-кредитора
                                                        </div>
                                                    </div>
                                                </div>
                                                                                    </div>
                                    </div>
                                                            </div>
                        </div>
                    </div>
                </div>
                <div class="m-portlet__foot">
                    <div class="row align-items-center">
                        <div class="col-lg-12 m--valign-middle">
                            <div class="row">
                                <div class="col-md-4 col-sm-4 col-xs-4 emoji">
                                                                            <div class="emoji-happy " data-toggle="m-tooltip" data-html="true" data-original-title="Счастлив" emotion-id="1">
                                            <div class="image">
                                            </div>
                                        </div>
                                                                            <div class="emoji-inspired " data-toggle="m-tooltip" data-html="true" data-original-title="Вдохновлен" emotion-id="2">
                                            <div class="image">
                                            </div>
                                        </div>
                                                                            <div class="emoji-ok " data-toggle="m-tooltip" data-html="true" data-original-title="OK" emotion-id="3">
                                            <div class="image">
                                            </div>
                                        </div>
                                                                            <div class="emoji-neutral " data-toggle="m-tooltip" data-html="true" data-original-title="Нейтрально" emotion-id="4">
                                            <div class="image">
                                            </div>
                                        </div>
                                                                            <div class="emoji-sad " data-toggle="m-tooltip" data-html="true" data-original-title="Грущу" emotion-id="5">
                                            <div class="image">
                                            </div>
                                        </div>
                                                                            <div class="emoji-tired " data-toggle="m-tooltip" data-html="true" data-original-title="Устал" emotion-id="6">
                                            <div class="image">
                                            </div>
                                        </div>
                                                                            <div class="emoji-upset " data-toggle="m-tooltip" data-html="true" data-original-title="Расстроен" emotion-id="7">
                                            <div class="image">
                                            </div>
                                        </div>
                                                                            <div class="emoji-angry " data-toggle="m-tooltip" data-html="true" data-original-title="Злой" emotion-id="8">
                                            <div class="image">
                                            </div>
                                        </div>
                                                                    </div>
                                <div class="col-md-8 col-sm-8 col-xs-8">
                                    <div class="m-section m-section--last">
                                        <span class="m-section__sub sumTotalHours">Всего: 0 часов</span>
                                        <div class="m-section__content">
                                            <div class="progress"><div class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div></div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>

    <style>
        .m--visible-tablet-and-mobile .m-portlet{
            margin-bottom: 0;
        }
        .m--visible-tablet-and-mobile .m-portlet__body{
            border-bottom: 1px solid #ebedf2;
        }
        .m--visible-tablet-and-mobile .top-header{
            font-size: 18px;
            padding: 10px 0 20px 0 ;
            font-weight: 400;
        }
        .m--visible-tablet-and-mobile .top-button{
            padding-bottom: 10px;
            font-size: 14px;
        }
        .m--visible-tablet-and-mobile .top-info{
            font-weight: 400;

        }
        .m--visible-tablet-and-mobile .m-portlet .m-portlet__head {
            height: 3.9rem;
        }
        .m--visible-tablet-and-mobile .m-portlet .m-portlet__head .m-portlet__head-caption .m-portlet__head-title .m-portlet__head-text{
            font-weight: 400;
            text-overflow: ellipsis;
            /* Required for text-overflow to do anything */
            white-space: nowrap;
            overflow: hidden;
            max-width: 210px;
        }
        .m--visible-tablet-and-mobile .m-badge.m-badge--success{
            font-size: 13px;
            padding: 0 9px;
        }
        .m--visible-tablet-and-mobile .m-form__group p{
            font-weight: 400;
            color: #575962;
            font-size:14px;
        }
        .m--visible-tablet-and-mobile .m-form__group label{
            font-size: 13px;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .m--visible-tablet-and-mobile .row > .m-portlet__head{
            padding-right: 0;
            padding-left: 1.2rem;
            border-bottom: none;
        }
        .m--visible-tablet-and-mobile .m-dropdown__wrapper{
            width: 180px;
        }
        .m--visible-tablet-and-mobile .m-dropdown__inner{
            width: 165px;
        }
        .m--visible-tablet-and-mobile h3.m-portlet__head-text{
            padding-top: 0;
        }
        .m--visible-tablet-and-mobile .delete-mobile-activity, .m--visible-tablet-and-mobile .add-mobile-comment {
            cursor: pointer;
        }
        .m--visible-tablet-and-mobile .m-portlet__body .m-form textarea{
            display: none;
        }

        .m--visible-tablet-and-mobile .m-portlet__body.comment-error .m-portlet__head {
            border: 1px solid red !important;
        }
    </style>
    <div class="m--visible-tablet-and-mobile m--hidden-desktop">

        <div class="m-content top">
            <div class="row top-header">
                <div class="col-lg-12">
                    <span>Отчет за сегодня</span>
                </div>
            </div>
            <div class="row top-button">
                <div class="col-lg-12 m--align-center m--valign-middle">
                    <button type="button" class="btn btn-brand col-12 btn-open-emotion-popup">
                        Сохранить отчет за 7 Октября
                    </button>
                </div>
            </div>
            <div class="row top-info">
                <div class="col-6 m--align-left">
                                    </div>
                <div class="col-6 m--align-right">
                    <p><b class="sumTotalHours">Всего: 0 часов</b></p>
                </div>
            </div>
        </div>


                    <div class="m-portlet" project-id="206">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-caption">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                <b>Курс Jedi point</b>
                            </h3>
                        </div>
                    </div>
                    <div class="m-portlet__head-tools">
                        <ul class="m-portlet__nav">
                            <li class="m-portlet__nav-item">
                                <span class="m-badge m-badge--success m-badge--wide m-badge--rounded sumProjectHours206" style="display: none">0</span>
                            </li>
                            <li class="m-portlet__nav-item show-portlet__body">
                                <a class="m-portlet__nav-link m-portlet__nav-link--icon">
                                    <i class="la la-angle-down"></i>
                                </a>
                            </li>
                            <li class="m-portlet__nav-item hide-portlet__body" style="display: none">
                                <a class="m-portlet__nav-link m-portlet__nav-link--icon">
                                    <i class="la la-angle-up"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                                <div class="m-portlet__body" activity-id="21" style="display: none">
                    <form class="m-form">
                        <div class="m-form__section m-form__section--first">
                            <div class="form-group m-form__group">
                                <div class="row">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <h3 class="m-portlet__head-text">
                                                    Проведение тренингов, ответы на домашки
                                                </h3>
                                            </div>
                                        </div>
                                        <div class="m-portlet__head-tools">
                                            <ul class="m-portlet__nav">
                                                <li class="m-portlet__nav-item m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" data-dropdown-toggle="hover">
                                                    <a class="m-portlet__nav-link m-portlet__nav-link--icon m-dropdown__toggle">
                                                        <i class="la la-ellipsis-v"></i>
                                                    </a>
                                                    <div class="m-dropdown__wrapper">
                                                        <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                                        <div class="m-dropdown__inner">
                                                            <div class="m-dropdown__body">
                                                                <div class="m-dropdown__content">
                                                                    <ul class="m-nav">
                                                                        <li class="m-nav__item add-mobile-comment">
                                                                            <a class="m-nav__link">
                                                                                <i class="m-nav__link-icon flaticon-comment"></i>
                                                                                <span class="m-nav__link-text">
																					Комментарий
																				</span>
                                                                            </a>
                                                                        </li>
                                                                        <li class="m-nav__item delete-mobile-activity">
                                                                            <a class="m-nav__link">
                                                                                <i class="m-nav__link-icon flaticon-close"></i>
                                                                                <span class="m-nav__link-text">
																					Удалить
																				</span>
                                                                            </a>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <label for="example_input_full_name">
                                            Время:
                                        </label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="m-bootstrap-touchspin-brand">
                                            <div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-down" type="button">-</button></span><span class="input-group-addon bootstrap-touchspin-prefix" style="display: none;"></span><input type="text" class="form-control" value="0" placeholder="" activity-id="21" style="display: block;"><span class="input-group-addon bootstrap-touchspin-postfix" style="display: none;"></span><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-up" type="button">+</button></span></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <p class="mobile-comment"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <textarea class="form-control" rows="1"></textarea>
                    </form>
                </div>
                                <div class="m-portlet__body form-portlet__body" style="display: none">
                    <form class="m-form">
                        <div class="m-form__section m-form__section--first">
                            <div class="form-group m-form__group">
                                <div class="row">
                                    <div class="col-12 activityName">
                                        <select class="form-control activityNames pull-left" style="width:84%">
                                                                                            <option value="22">Другое (в комментарии обязательно указать, что!)</option>
                                                                                            <option value="26">Коммуникации</option>
                                                                                            <option value="20">Оргвопросы по тренингам</option>
                                                                                            <option value="15">Постановка задач</option>
                                                                                            <option value="21">Проведение тренингов, ответы на домашки</option>
                                                                                            <option value="47">Работа с командой</option>
                                                                                    </select>
                                        <button type="button" class="btn m-btn--pill  btn-outline-success btn-sm pull-right add-portlet__body" style="margin-top: 4px; padding: 0.25rem 0;font-size: 1rem; width: 27px;">
                                            <i class="la la-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
                    <div class="m-portlet" project-id="353">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-caption">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                <b>Производственный проект по автоматизации на Java / C#</b>
                            </h3>
                        </div>
                    </div>
                    <div class="m-portlet__head-tools">
                        <ul class="m-portlet__nav">
                            <li class="m-portlet__nav-item">
                                <span class="m-badge m-badge--success m-badge--wide m-badge--rounded sumProjectHours353" style="display: none">0</span>
                            </li>
                            <li class="m-portlet__nav-item show-portlet__body">
                                <a class="m-portlet__nav-link m-portlet__nav-link--icon">
                                    <i class="la la-angle-down"></i>
                                </a>
                            </li>
                            <li class="m-portlet__nav-item hide-portlet__body" style="display: none">
                                <a class="m-portlet__nav-link m-portlet__nav-link--icon">
                                    <i class="la la-angle-up"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                                <div class="m-portlet__body" activity-id="169" style="display: none">
                    <form class="m-form">
                        <div class="m-form__section m-form__section--first">
                            <div class="form-group m-form__group">
                                <div class="row">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <h3 class="m-portlet__head-text">
                                                    Песочница Автоматизация
                                                </h3>
                                            </div>
                                        </div>
                                        <div class="m-portlet__head-tools">
                                            <ul class="m-portlet__nav">
                                                <li class="m-portlet__nav-item m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" data-dropdown-toggle="hover">
                                                    <a class="m-portlet__nav-link m-portlet__nav-link--icon m-dropdown__toggle">
                                                        <i class="la la-ellipsis-v"></i>
                                                    </a>
                                                    <div class="m-dropdown__wrapper">
                                                        <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                                        <div class="m-dropdown__inner">
                                                            <div class="m-dropdown__body">
                                                                <div class="m-dropdown__content">
                                                                    <ul class="m-nav">
                                                                        <li class="m-nav__item add-mobile-comment">
                                                                            <a class="m-nav__link">
                                                                                <i class="m-nav__link-icon flaticon-comment"></i>
                                                                                <span class="m-nav__link-text">
																					Комментарий
																				</span>
                                                                            </a>
                                                                        </li>
                                                                        <li class="m-nav__item delete-mobile-activity">
                                                                            <a class="m-nav__link">
                                                                                <i class="m-nav__link-icon flaticon-close"></i>
                                                                                <span class="m-nav__link-text">
																					Удалить
																				</span>
                                                                            </a>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <label for="example_input_full_name">
                                            Время:
                                        </label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="m-bootstrap-touchspin-brand">
                                            <div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-down" type="button">-</button></span><span class="input-group-addon bootstrap-touchspin-prefix" style="display: none;"></span><input type="text" class="form-control" value="0" placeholder="" activity-id="169" style="display: block;"><span class="input-group-addon bootstrap-touchspin-postfix" style="display: none;"></span><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-up" type="button">+</button></span></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <p class="mobile-comment"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <textarea class="form-control" rows="1"></textarea>
                    </form>
                </div>
                                <div class="m-portlet__body form-portlet__body" style="display: none">
                    <form class="m-form">
                        <div class="m-form__section m-form__section--first">
                            <div class="form-group m-form__group">
                                <div class="row">
                                    <div class="col-12 activityName">
                                        <select class="form-control activityNames pull-left" style="width:84%">
                                                                                            <option value="7">Баги: Локализация и заведение</option>
                                                                                            <option value="13">Баги: Проверка исправленных</option>
                                                                                            <option value="169">Песочница Автоматизация</option>
                                                                                            <option value="40">Приемка работ</option>
                                                                                            <option value="86">Проверка тестов</option>
                                                                                            <option value="138">Работа с документацией</option>
                                                                                    </select>
                                        <button type="button" class="btn m-btn--pill  btn-outline-success btn-sm pull-right add-portlet__body" style="margin-top: 4px; padding: 0.25rem 0;font-size: 1rem; width: 27px;">
                                            <i class="la la-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
                    <div class="m-portlet" project-id="355">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-caption">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                <b>Производственный проект по тестированию API (REST / SOAP)</b>
                            </h3>
                        </div>
                    </div>
                    <div class="m-portlet__head-tools">
                        <ul class="m-portlet__nav">
                            <li class="m-portlet__nav-item">
                                <span class="m-badge m-badge--success m-badge--wide m-badge--rounded sumProjectHours355" style="display: none">0</span>
                            </li>
                            <li class="m-portlet__nav-item show-portlet__body">
                                <a class="m-portlet__nav-link m-portlet__nav-link--icon">
                                    <i class="la la-angle-down"></i>
                                </a>
                            </li>
                            <li class="m-portlet__nav-item hide-portlet__body" style="display: none">
                                <a class="m-portlet__nav-link m-portlet__nav-link--icon">
                                    <i class="la la-angle-up"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                                <div class="m-portlet__body" activity-id="168" style="display: none">
                    <form class="m-form">
                        <div class="m-form__section m-form__section--first">
                            <div class="form-group m-form__group">
                                <div class="row">
                                    <div class="m-portlet__head">
                                        <div class="m-portlet__head-caption">
                                            <div class="m-portlet__head-title">
                                                <h3 class="m-portlet__head-text">
                                                    Песочница REST API
                                                </h3>
                                            </div>
                                        </div>
                                        <div class="m-portlet__head-tools">
                                            <ul class="m-portlet__nav">
                                                <li class="m-portlet__nav-item m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" data-dropdown-toggle="hover">
                                                    <a class="m-portlet__nav-link m-portlet__nav-link--icon m-dropdown__toggle">
                                                        <i class="la la-ellipsis-v"></i>
                                                    </a>
                                                    <div class="m-dropdown__wrapper">
                                                        <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                                        <div class="m-dropdown__inner">
                                                            <div class="m-dropdown__body">
                                                                <div class="m-dropdown__content">
                                                                    <ul class="m-nav">
                                                                        <li class="m-nav__item add-mobile-comment">
                                                                            <a class="m-nav__link">
                                                                                <i class="m-nav__link-icon flaticon-comment"></i>
                                                                                <span class="m-nav__link-text">
																					Комментарий
																				</span>
                                                                            </a>
                                                                        </li>
                                                                        <li class="m-nav__item delete-mobile-activity">
                                                                            <a class="m-nav__link">
                                                                                <i class="m-nav__link-icon flaticon-close"></i>
                                                                                <span class="m-nav__link-text">
																					Удалить
																				</span>
                                                                            </a>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <label for="example_input_full_name">
                                            Время:
                                        </label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="m-bootstrap-touchspin-brand">
                                            <div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-down" type="button">-</button></span><span class="input-group-addon bootstrap-touchspin-prefix" style="display: none;"></span><input type="text" class="form-control" value="0" placeholder="" activity-id="168" style="display: block;"><span class="input-group-addon bootstrap-touchspin-postfix" style="display: none;"></span><span class="input-group-btn"><button class="btn btn-secondary bootstrap-touchspin-up" type="button">+</button></span></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <p class="mobile-comment"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <textarea class="form-control" rows="1"></textarea>
                    </form>
                </div>
                                <div class="m-portlet__body form-portlet__body" style="display: none">
                    <form class="m-form">
                        <div class="m-form__section m-form__section--first">
                            <div class="form-group m-form__group">
                                <div class="row">
                                    <div class="col-12 activityName">
                                        <select class="form-control activityNames pull-left" style="width:84%">
                                                                                            <option value="7">Баги: Локализация и заведение</option>
                                                                                            <option value="13">Баги: Проверка исправленных</option>
                                                                                            <option value="26">Коммуникации</option>
                                                                                            <option value="168">Песочница REST API</option>
                                                                                            <option value="99">Тестирование: Интеграционное</option>
                                                                                            <option value="5">Тестирование: По готовым тестам</option>
                                                                                    </select>
                                        <button type="button" class="btn m-btn--pill  btn-outline-success btn-sm pull-right add-portlet__body" style="margin-top: 4px; padding: 0.25rem 0;font-size: 1rem; width: 27px;">
                                            <i class="la la-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            </div>

    <div class="modal fade" id="modal-mobile-comment" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">
                        Комментарий
                    </h5>
                </div>
                <div class="modal-body">
                    <div class="m-portlet__body">
                        <div class="form-group m-form__group row">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <textarea class="form-control" id="m_autosize_2" rows="1">A small, stand-alone script to automatically adjust textarea height</textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        Отмена
                    </button>
                    <button class="btn btn-brand save-mobile-comment" type="button" data-dismiss="modal" project-id="" activity-id="">
                        Сохранить
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-mobile-emotion" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">
                        Настроение
                    </h5>
                </div>
                <div class="modal-body">
                    <div class="m-portlet__body">
                        <div class="form-group m-form__group row">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="m-radio-list">
                                                                            <label class="m-radio">
                                            <input type="radio" name="emotion" value="1">
                                            Счастлив
                                            <span></span>
                                        </label>
                                                                            <label class="m-radio">
                                            <input type="radio" name="emotion" value="2">
                                            Вдохновлен
                                            <span></span>
                                        </label>
                                                                            <label class="m-radio">
                                            <input type="radio" name="emotion" value="3">
                                            OK
                                            <span></span>
                                        </label>
                                                                            <label class="m-radio">
                                            <input type="radio" name="emotion" value="4">
                                            Нейтрально
                                            <span></span>
                                        </label>
                                                                            <label class="m-radio">
                                            <input type="radio" name="emotion" value="5">
                                            Грущу
                                            <span></span>
                                        </label>
                                                                            <label class="m-radio">
                                            <input type="radio" name="emotion" value="6">
                                            Устал
                                            <span></span>
                                        </label>
                                                                            <label class="m-radio">
                                            <input type="radio" name="emotion" value="7">
                                            Расстроен
                                            <span></span>
                                        </label>
                                                                            <label class="m-radio">
                                            <input type="radio" name="emotion" value="8">
                                            Злой
                                            <span></span>
                                        </label>
                                                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        Отмена
                    </button>
                    <button class="btn btn-brand btn-save-report" type="button">
                        Сохранить
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-more-less-hours" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">
                        Вы хотите залогировать больше или меньше 8 часов, которые по графику запланированы у вас на сегодня
                    </h5>
                </div>
                <div class="modal-body">
                    <div class="m-portlet__body">
                        <p>Вы действительно хотите залогировать данное количество времени?</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        Отмена
                    </button>
                    <button class="btn btn-brand btn-primary" type="button">
                        Все верно
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-more-less-hours-mobile" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">
                        Вы хотите залогировать больше или меньше 8 часов, которые по графику запланированы у вас на сегодня
                    </h5>
                </div>
                <div class="modal-body">
                    <div class="m-portlet__body">
                        <p>Вы действительно хотите залогировать данное количество времени?</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        Отмена
                    </button>
                    <button class="btn btn-brand btn-primary" type="button">
                        Все верно
                    </button>
                </div>
            </div>
        </div>
    </div>


    <script src="/assets/demo/default/custom/components/forms/widgets/bootstrap-touchspin.js?211005_1425_26"></script>
    <script src="/assets/demo/default/custom/components/forms/widgets/autosize.js?211005_1425_26"></script>
    <script src="/assets/demo/default/custom/components/base/toastr.js?211005_1425_26"></script>


    
    <script id="mobile-portlet-body" type="text/template">
        <div class="m-portlet__body" activity-id="{{ activityId }}">
            <form class="m-form">
                <div class="m-form__section m-form__section--first">
                    <div class="form-group m-form__group">
                        <div class="row">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
                                        <h3 class="m-portlet__head-text">
                                            {{ activityName }}
                                        </h3>
                                    </div>
                                </div>
                                <div class="m-portlet__head-tools">
                                    <ul class="m-portlet__nav">
                                        <li class="m-portlet__nav-item m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" data-dropdown-toggle="hover">
                                            <a class="m-portlet__nav-link m-portlet__nav-link--icon m-dropdown__toggle">
                                                <i class="la la-ellipsis-v"></i>
                                            </a>
                                            <div class="m-dropdown__wrapper">
                                                <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                                <div class="m-dropdown__inner">
                                                    <div class="m-dropdown__body">
                                                        <div class="m-dropdown__content">
                                                            <ul class="m-nav">
                                                                <li class="m-nav__item add-mobile-comment">
                                                                    <a class="m-nav__link">
                                                                        <i class="m-nav__link-icon flaticon-comment"></i>
                                                                        <span class="m-nav__link-text">
                                                                            Комментарий
                                                                        </span>
                                                                    </a>
                                                                </li>
                                                                <li class="m-nav__item delete-mobile-activity">
                                                                    <a class="m-nav__link">
                                                                        <i class="m-nav__link-icon flaticon-close"></i>
                                                                        <span class="m-nav__link-text">
                                                                            Удалить
                                                                        </span>
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <label for="example_input_full_name">
                                    Время:
                                </label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="m-bootstrap-touchspin-brand">
                                    <input type="text" class="form-control m-touchspin" value="0" placeholder="" activity-id="{{ activityId }}">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <p class="mobile-comment"></p>
                            </div>
                        </div>
                    </div>
                </div>
                <textarea class="form-control" rows="1"></textarea>
            </form>
        </div>
    </script>
    

    <script>
        $(function () {
            // первоначально
            var isOriginallyMobile =  $('.m--visible-tablet-and-mobile').is(":visible");
            var isOriginallyDesktop = $('.m--visible-desktop').is(":visible");

            $( window ).resize(function() {
                // при изменении разрешения
                toastr.options.preventDuplicates = true;

                var isMobile = $('.m--visible-tablet-and-mobile').is(":visible");
                var isDesktop = $('.m--visible-desktop').is(":visible");
                if (isDesktop && isOriginallyMobile){
                    console.log('Ориентация сменилась с мобильного на десктоп');
                    toastr.warning('Вернитесь к мобильной ориентации или перезагрузите страницу', null, true);
                    //isOriginallyDesktop = true;
                    //isOriginallyMobile = false;
                }
                if (isMobile && isOriginallyDesktop){
                    console.log('Ориентация сменилась с десктопа на мобильную');
                    toastr.warning('Вернитесь к десктопной ориентации или перезагрузите страницу', null, true);
                    //isOriginallyDesktop = false;
                    //isOriginallyMobile = true;
                }
            });

            // Добавление активности в мобильной версии
            $('.m--visible-tablet-and-mobile').on('click', '.add-portlet__body', function () {
                var $option = $(this).closest('.activityName').find('select option:selected');

                var $container = $(this).closest('.m-portlet').find('.form-portlet__body');
                var template = $("#mobile-portlet-body").html();
                var activityId = parseInt($option.attr('value'));
                var text = Mustache.render(template, {'activityName': $option.text(), 'activityId' : activityId});
                var $addedActivities = $container.closest('.m-portlet').find('input.form-control[activity-id="'+activityId+'"]');
                if ($addedActivities.length > 0){
                    toastr.error('Данная активность уже добавлена в отчет');
                    return false;
                }
                $container.before(text);
                BootstrapTouchspin.init();
            });
            // Добавление активности в десктопной
            $('.report-row-template .m-badge--success').click(function () {
                var $templateRow = $(this).closest('.row');
                var $option = $templateRow.find('option:selected');
                var activityName = $option.text();
                var activityId = parseInt($option.attr('value'));

                var html = $templateRow.html();
                var $div = $('<div>').addClass('row activity').html(html);
                $div.find('.activityName').text(activityName);
                $div.find('.hours-sum').remove();
                $div.attr('activity-id', activityId);

                $div.find('select').addClass('m-select2');
                $div.find('input').addClass('report-time m-touchspin').attr('activity-id', activityId);
                var $badge = $div.find('.m-badge');
                $badge.removeClass('m-badge--success').addClass('m-badge--danger');
                $badge.find('.fa').removeClass('fa-plus').addClass('fa-minus');
                var $tab = $(this).closest('.tab-pane');

                console.log('Добавление активности...', $tab);

                var $addedActivities = $tab.find('input[type="text"][activity-id="'+activityId+'"]');
                if ($addedActivities.length > 0){
                    toastr.error('Данная активность уже добавлена в отчет');
                    return false;
                }

                $tab.find('.report-rows').append($div);

                initAlert();
                Autosize.init();
                BootstrapTouchspin.init();
                $(".m-select2").select2({placeholder: "Выберите активность"});

                calculateProjectHourSum();
                calculateActivityHourSum();
            });


            $('#modal-mobile-comment').on('shown.bs.modal', function () {
                var $textarea = $('#modal-mobile-comment').find('textarea');
                autosize($textarea);
                autosize.update($textarea);
            });
            $('#modal-mobile-comment').on('hide.bs.modal', function () {
                var $textarea =$('#modal-mobile-comment').find('textarea');
                autosize.destroy($textarea);
                $textarea.val('');
            });
            $('#modal-mobile-comment').on('click', '.save-mobile-comment', function () {
                var projectId = parseInt($(this).attr('project-id'));
                var activityId = parseInt($(this).attr('activity-id'));
                var text = $(this).closest('#modal-mobile-comment').find('textarea').val();

                console.log('Закрыть попап для заполнения комментария:');
                console.log('projectId', projectId);
                console.log('activityId', activityId);
                console.log('text', text);

                var $project = $('.m--visible-tablet-and-mobile .m-portlet[project-id="'+projectId+'"]');
                var $activity = $project.find('.m-portlet__body[activity-id="'+activityId+'"]');
                $activity.find('textarea').val(text);
                $activity.find('.mobile-comment').html(text.replace(/([^>])\n/g, '$1<br/>'));

                if ($activity.find('.mobile-comment').text() != "") {
                    $activity.removeClass('comment-error');
                }
            });
            $('.m--visible-tablet-and-mobile').on('click', '.add-mobile-comment', function () {
                var projectId = parseInt($(this).closest('.m-portlet').attr('project-id'));
                var $activity = $(this).closest('.m-portlet__body');
                var activityId = parseInt($activity.find('input.form-control').attr('activity-id'));
                var text = $activity.find('textarea').val();

                console.log('Открыть попап для заполнения комментария:');
                console.log('projectId', projectId);
                console.log('activityId', activityId);
                console.log('text', text);

                var $modal = $('#modal-mobile-comment');
                $button = $modal.find('.save-mobile-comment');
                $button.attr('project-id', projectId);
                $button.attr('activity-id', activityId);
                $modal.find('textarea').val(text);
                $modal.modal('show');
            });
            $('.m--visible-tablet-and-mobile').on('click', '.delete-mobile-activity', function () {
                var $activity = $(this).closest('.m-portlet__body');
                var $time = $activity.find('input');
                $time.val(0);
                $time.change();
                $activity.remove();
            });

            $('#modal-more-less-hours-mobile .btn-primary').on('click', function () {
                $(this).closest('.modal').modal('hide');

                var data = getMobileData();
                console.log('Валидация данных:');
                console.log('data', data);

                if (data === false) return;

                $('#modal-mobile-emotion').modal('show');
            });

            $('.m--visible-tablet-and-mobile').on('click', '.btn-open-emotion-popup', function () {
                var userHours = getActivityHourSumMobile();

                if (userHours > 24) {
                    toastr.error('Нельзя залогировать больше 24 часов');
                    return false;
                }

                if (userHours > parseFloat(8) || userHours < parseFloat(8)) {
                    $('#modal-more-less-hours-mobile').modal('show');
                    return false;
                }

                var data = getMobileData();
                console.log('Валидация данных:');
                console.log('data', data);

                if (data === false) return;

                $('#modal-mobile-emotion').modal('show');
            });

            function getMobileData() {
                var data = [];

                var $failedTextarea = [];

                var globalTime = 0;

                $.each($('.m--visible-tablet-and-mobile .m-portlet'), function(idx, project){
                    var $project = $(project);
                    var projectId = parseInt($project.attr('project-id'));

                    $.each($project.find('.m-portlet__body'), function(idx, activity){
                        var $activity = $(activity);
                        if ($activity.hasClass('form-portlet__body')){ return false; }

                        var activityId = parseInt($activity.attr('activity-id'));
                        var $input = $activity.find('input');
                        var $textarea = $activity.find('textarea');

                        var time = Math.round(parseFloat($input.val()) * 100) / 100 ;
                        globalTime += time;

                        var comment = $.trim($textarea.val());
                        if (time > 0 && comment.length == 0 && activityId == parseInt('22')){
                            $failedTextarea.push($textarea);
                        }
                        data.push({'projectId':projectId, 'activityId' : activityId, 'time' : time, 'comment': comment });
                    })
                });

                $('.m--visible-tablet-and-mobile .m-portlet__body').removeClass('comment-error');
                $.each($failedTextarea, function(idx, $textarea){
                    $(this).closest('.m-portlet__body').addClass('comment-error');
                });
                if ($failedTextarea.length > 0){
                    toastr.error('Заполните комментарий в выделенных активностях');
                    return false;
                }

                return data;
            }

            $('.m--visible-tablet-and-mobile').on('click', '.show-portlet__body', function () {
                $(this).hide();
                $(this).parent().find('.hide-portlet__body').show();

                var $portlet = $(this).closest('.m-portlet');
                $portlet.find('.m-portlet__body').show();
            });
            $('.m--visible-tablet-and-mobile').on('click', '.hide-portlet__body', function () {
                $(this).hide();
                $(this).parent().find('.show-portlet__body').show();

                var $portlet = $(this).closest('.m-portlet');
                $portlet.find('.m-portlet__body').hide();
            });

            $('#modal-mobile-emotion').on('click', '.btn-save-report', function () {
                var $modal = $(this).closest('.modal-content');
                var emotionId = parseInt($modal.find('input:checked').val());

                console.log('Сохранение настроения:');
                console.log('emotionId', emotionId);
                if (isNaN(emotionId)){
                    toastr.error('Пожалуйста, укажите Ваше настроение');
                    return false;
                }

                var $btn = $(this);
                sendAjaxEmotionLog(emotionId, $btn, function () {
                    sendAjaxReportGroupRefresh(getMobileData(), $btn);
                });

                /*
                setTimeout(function () {
                    $('#modal-mobile-emotion').modal('hide');
                    $('#modal-mobile-emotion .btn-save-report').removeClass(loaderClass);
                    toastr.success('Отчет успешно сохранен');
                }, 2000)

                */
            });

            $('.m--visible-tablet-and-mobile').on('change', '.bootstrap-touchspin input', function(){
                var totalSumHours = 0;
                $.each($('.m--visible-tablet-and-mobile .m-portlet'), function(idx, tab){
                    var $tab = $(this);
                    totalSumHours +=  parseFloat(calculateCurrentProjectHourSum($tab));
                });
                console.log('totalSumHours', totalSumHours);
                $('.sumTotalHours').text('Всего: '+(Math.round(totalSumHours * 100) / 100)+' часов');

                //calculateProjectHourSum();
                //calculateActivityHourSum();
            });

            $('.m--visible-tablet-and-mobile').on('keyup', '.bootstrap-touchspin input', function(){
                var value = $(this).val();
                $(this).val(value.replace(',', '.'))
            });

            $('.tabs-left li').click(function () {
                var $id = $(this).find('a').attr('href');
                setTimeout(function () {
                    $($id + " .m-select2").select2({placeholder: "Выберите активность"});
                    //Autosize.init();
                }, 10);
            });
            $('.tab-pane').on('focus', 'textarea.m-autosize', function () {
                var $textarea = $(this);
                autosize($textarea);
                autosize.update($textarea);
            });
            $('.tab-pane').on('focusout', 'textarea.m-autosize', function () {
                var $textarea = $(this);
                autosize.destroy($textarea);
            });


            $('.tab-content').on('click', '.m-badge--danger', function () {
                var $tab = $(this).closest('.tab-pane');
                var $templateRow = $(this).closest('.row');
                $templateRow.remove();
                initAlert();
                calculateProjectHourSum();
                calculateActivityHourSum();
            });

            $('.tab-content').on('change', '.bootstrap-touchspin input', function(){
                calculateProjectHourSum();
                calculateActivityHourSum();
            });

            function initAlert(){
                $.each($('.tab-pane'),function (idx, tab) {
                    var $tab = $(tab);
                    if ($tab.find('.activity').length > 0){
                        $tab.find('.alert').hide();
                    }else{
                        $tab.find('.alert').show();
                    }
                })
            }

            $('.emoji > div').click(function () {
                var userHours = getActivityHourSum();

                if (userHours > 24) {
                    toastr.error('Нельзя залогировать больше 24 часов');
                    return false;
                }

                $('.emoji > div').removeClass('active');
                $(this).addClass('active');

                var $btn =  $('button[type="submit"]');
                sendAjaxEmotionLog($(this).attr('emotion-id'), $btn, function () {
                    saveReport();
                });
            });

            var canSaveReport = false;

            function saveReport() {
                var userHours = getActivityHourSum();

                if (userHours > 24) {
                    toastr.error('Нельзя залогировать больше 24 часов');
                    return false;
                }

                if (canSaveReport == false && (userHours > parseFloat(8) || userHours < parseFloat(8))) {
                    $('#modal-more-less-hours').modal('show');
                    return false;
                }

                var data = [];

                var $failedTextarea = [];

                var globalTime = 0;

                $.each($('.tab-pane'), function(idx, tab){
                    var $tab = $(this);
                    var projectId = parseInt($tab.attr('project-id'));
                    $.each($tab.find('.activity'), function(idx, activity){
                        var $activity = $(activity);
                        var activityId = parseInt($activity.attr('activity-id'));
                        var $input = $activity.find('input');
                        var $textarea = $activity.find('textarea');

                        var time = Math.round(parseFloat($input.val()) * 100) / 100 ;
                        globalTime += time;

                        var comment = $.trim($textarea.val());
                        if (time > 0 && comment.length == 0 && activityId == parseInt('22')){
                            $failedTextarea.push($textarea);
                        }

                        data.push({'projectId':projectId, 'activityId' : activityId, 'time' : time, 'comment': comment });
                    })
                });

                console.log('Сохранение отчета...');
                console.log('data', data);

                $.each($failedTextarea, function(idx, $textarea){
                    $(this).closest('.activity').addClass('has-error');
                    var id = $(this).closest('.tab-pane').attr('id');
                    $('.tabs-left [href="#'+id+'"]').addClass('has-error');
                });
                if ($failedTextarea.length > 0){
                    toastr.error('Заполните комментарий во всех красных вкладках');
                    return false;
                }

                if (data.length == 0) {
                    toastr.error('Невозможно сохранить пустой отчет');
                    return false;
                }

                if ($('.emoji .active').length == 0){
                    toastr.error('Пожалуйста, укажите Ваше настроение');
                    return false;
                }

                var $btn =  $('button[type="submit"]');
                sendAjaxReportGroupRefresh(data, $btn);

                canSaveReport = false;
            }

            function sendAjaxEmotionLog(emotionId, $btn, callback){
                var loaderClass = 'm-loader m-loader--light m-loader--left';
                var request = $.ajax({
                    type: "POST",
                    url: '/emotion/user-log/save',
                    dataType: "json",
                    data: {'emotionId' : emotionId},
                    global: false,
                    beforeSend:function(){
                        $btn.addClass(loaderClass);
                    }
                });

                request.done(function( response ) {
                    console.log(response);
                    $btn.removeClass(loaderClass);

                    toastr.options.positionClass = 'toast-bottom-right';
                    $.each(response.messages, function(idx, item){
                        toastr[item.type](item.text);
                    });

                    if (callback) callback();
                });

                request.fail(function( jqXHR, textStatus ) {
                    console.log( "Request failed: " + textStatus );
                });
            }

            function sendAjaxReportGroupRefresh(data, $btn) {
                var loaderClass = 'm-loader m-loader--light m-loader--left';

                var request = $.ajax({
                    type: "POST",
                    url: '/report/group/refresh',
                    dataType: "json",
                    data: {'report' : data, 'token' : $('#token').val() },
                    global: false,
                    beforeSend:function(){
                        $btn.addClass(loaderClass);
                    }
                });

                request.done(function( response ) {
                    console.log(response);
                    $btn.removeClass(loaderClass);

                    toastr.options.positionClass = 'toast-bottom-right';
                    $.each(response.messages, function(idx, item){
                        toastr[item.type](item.text);
                    });

                    // перезагрузка страницы
                    location.href = location.href;
                });

                request.fail(function( jqXHR, textStatus ) {
                    console.log( "Request failed: " + textStatus );
                });
            }

            $('#modal-more-less-hours .btn-primary').on('click', function () {
                $(this).closest('.modal').modal('hide');

                canSaveReport = true;
                saveReport();
            });

            $('button[type="submit"]').click(function() {
                saveReport();
            });

            initAlert();
            calculateProjectHourSum();
            calculateActivityHourSum();
            BootstrapTouchspin.init();

            $('.tabs-left li:first a').click();
        });


        function calculateProjectHourSum() {
            console.log('calculateProjectHourSum', $('.tab-pane').length);

            $.each($('.m-content .tab-pane'), function(idx, tab){
                var $tab = $(this);
                calculateCurrentProjectHourSum($tab);
            });
        }

        function calculateCurrentProjectHourSum($tab) {
            var projectId = parseInt($tab.attr('project-id'));
            var sumHours = 0;
            $.each($tab.find('input[type="text"]'), function (idx, item) {
                sumHours += parseFloat($(item).val());
            });
            var sum = Math.round(sumHours * 100) / 100;
            var $badge = $('.sumProjectHours'+projectId);

            if (sum > 0){
                $badge.css({'display': 'inline-block'}).text(sum);
            }else{
                $badge.css({'display': 'none'}).text(sum);
            }
            return sumHours;
        }

        function getActivityHourSum() {
            var activityHourSum = {};
            $.each($('.m-content .tab-pane'), function(idx, tab){
                $.each($(tab).find('input.report-time'), function(idx, input){
                    var activityId = parseInt($(input).attr('activity-id'));

                    if (isNaN(activityId)){
                        activityId = 0;
                    }

                    if (typeof activityHourSum[activityId] == 'undefined'){
                        activityHourSum[activityId] = 0;
                    }

                    var hours = parseFloat($(input).val());
                    if (isNaN(hours)){
                        hours = 0;
                    }

                    activityHourSum[activityId] += hours;

                })
            });

            var userHours   = 0;
            $.each(activityHourSum, function(activityId, hours){
                userHours += parseFloat(hours);
            });

            return userHours;
        }

        function getActivityHourSumMobile() {
            var userHours = 0;

            $.each($('.m--visible-tablet-and-mobile .m-portlet'), function(idx, project){
                var $project = $(project);
                $.each($project.find('.m-portlet__body'), function(idx, activity){
                    var $activity = $(activity);
                    if ($activity.hasClass('form-portlet__body')){ return false; }
                    var $input = $activity.find('input');
                    var time = Math.round(parseFloat($input.val()) * 100) / 100 ;
                    userHours += time;
                })
            });

            return userHours;
        }

        function calculateActivityHourSum() {
            var activityHourSum = {};
            $.each($('.m-content .tab-pane'), function(idx, tab){
                $.each($(tab).find('input.report-time'), function(idx, input){
                    var activityId = parseInt($(input).attr('activity-id'));

                    if (isNaN(activityId)){
                        activityId = 0;
                    }

                    if (typeof activityHourSum[activityId] == 'undefined'){
                        activityHourSum[activityId] = 0;
                    }

                    var hours = parseFloat($(input).val());
                    if (isNaN(hours)){
                        hours = 0;
                    }

                    activityHourSum[activityId] += hours;

                })
            });

            var needleHours = 8;
            var userHours   = 0;
            $.each(activityHourSum, function(activityId, hours){
                userHours += parseFloat(hours);
            });

            console.log(activityHourSum);
            console.log(userHours);

            $('.sumTotalHours').text('Всего: '+(Math.round(userHours * 100) / 100)+' часов');
            if (userHours > needleHours) needleHours = userHours;

            var needUpdateProgress = false;
            var activityProgress = [];
            $.each(activityHourSum, function(activityId, hours){

                var percentage = (hours*100)/needleHours;
                activityProgress.push({'percentage' : Math.round(percentage * 100) / 100, 'activityId' : activityId, 'value':(Math.round(hours * 100) / 100)});

                if (needUpdateProgress == false) needUpdateProgress = percentage > 0;
            });
            needUpdateProgress && $('.progress').html('');
            if (userHours == 0){
                $('.progress').html('<div class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>');
            }

            var activityNames = {};
            $.each($('.activityNames'), function(idx, select){
                $.each($(select).find('option'), function (idx, option) {
                    var activityId = parseInt($(option).attr('value'));
                    activityNames[activityId] = $(option).text();
                })
            });

            $.each(activityProgress, function (idx, progress) {
                var classColor = 'bg-progress-activity-'+idx;
                var activityName = activityNames[progress.activityId];
                var minPercentage = 4;
                var percentage = progress.percentage < minPercentage ? minPercentage : progress.percentage;
                var value = progress.value;
                if (value > 0){
                    var html = '<div class="progress-bar '+classColor+'" role="progressbar" style="width: ' + percentage +
                        '%" data-toggle="m-tooltip" title="" data-html="true"  data-original-title="'+activityName+'">'+value+'</div>';
                    $('.progress').append(html);
                }
            });

            $('[data-toggle="m-tooltip"]').each(function () {
                var e = $(this), t = e.data("skin") ? "m-tooltip--skin-" + e.data("skin") : "";
                e.tooltip({template: '<div class="m-tooltip ' + t + ' tooltip" role="tooltip">                    <div class="arrow"></div>                    <div class="tooltip-inner"></div>                </div>'})
            })
        }

    </script>
            </div>
        </div>
        <!-- end:: Body -->

        <!-- begin::Footer -->
<footer class="m-grid__item		m-footer ">
    <div class="m-container m-container--fluid m-container--full-height m-page__container">
        <div class="m-stack m-stack--flex-tablet-and-mobile m-stack--ver m-stack--desktop">
            <div class="m-stack__item m-stack__item--left m-stack__item--middle m-stack__item--last">
                <span class="m-footer__copyright">2021 © Quality Lab</span><br>
                <span class="m-footer__copyright">Адрес офиса: 117420, Москва, ул. Профсоюзная, д. 57, подъезд НПО Технология, 7 этаж, офис 707</span>
            </div>
            <div class="m-stack__item m-stack__item--right m-stack__item--middle m-stack__item--last">
                <span class="m-footer__copyright">Ver. 211005.1425.26</span>
            </div>
        </div>
    </div>
</footer>
<!-- end::Footer -->    </div>
    <!-- end:: Page -->


    
<!-- begin::Scroll Top -->
<div class="m-scroll-top m-scroll-top--skin-top" data-toggle="m-scroll-top" data-scroll-offset="500" data-scroll-speed="300">
    <i class="la la-arrow-up"></i>
</div>
<!-- end::Scroll Top -->
    
<script src="/assets/demo/default/base/scripts.bundle.js?211005_1425_26" type="text/javascript"></script>
<!--begin::Page Snippets -->
<script src="/assets/app/js/dashboard.js?211005_1425_26" type="text/javascript"></script>

<script src="/assets/demo/default/custom/components/forms/widgets/select2.js?211005_1425_26" type="text/javascript"></script>
<!--end::Page Snippets -->
<!-- end::Body -->

</body></html>